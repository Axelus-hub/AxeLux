<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AxeLux | Premium Luxury Store</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body class="theme-blue">
    <!-- Login Page -->
    <div id="loginPage" class="page login-page">
        <div class="login-wrapper">
            <div class="login-card">
                <div class="brand-header">
                    <div class="logo-icon"><i class="fas fa-gem"></i></div>
                    <h1 class="logo-text">AxeLux</h1>
                    <p class="tagline">Premium Luxury Store</p>
                </div>

                <div class="theme-selector">
                    <p class="section-label">Pilih Tema:</p>
                    <div class="theme-buttons">
                        <button onclick="setTheme('blue')" class="theme-option blue active" title="Blue">
                            <i class="fas fa-palette"></i> Blue
                        </button>
                        <button onclick="setTheme('red')" class="theme-option red" title="Red">
                            <i class="fas fa-fire"></i> Red
                        </button>
                        <button onclick="setTheme('green')" class="theme-option green" title="Green">
                            <i class="fas fa-leaf"></i> Green
                        </button>
                        <button onclick="setTheme('yellow')" class="theme-option yellow" title="Yellow">
                            <i class="fas fa-sun"></i> Yellow
                        </button>
                        <button onclick="setTheme('night')" class="theme-option night" title="Night">
                            <i class="fas fa-moon"></i> Night
                        </button>
                        <button onclick="setTheme('light')" class="theme-option light" title="Light">
                            <i class="fas fa-sun"></i> Light
                        </button>
                    </div>
                </div>

                <div class="language-selector">
                    <select id="langSelect" class="lang-dropdown" onchange="changeLanguage()">
                        <option value="id">üáÆüá© Indonesia</option>
                        <option value="en">üá∫üá∏ English</option>
                        <option value="jp">üáØüáµ Êó•Êú¨Ë™û</option>
                        <option value="es">üá™üá∏ Espa√±ol</option>
                    </select>
                </div>

                <div class="login-form">
                    <h2 class="form-title">Masuk ke Dashboard</h2>
                    
                    <div class="input-group">
                        <i class="fas fa-user input-icon"></i>
                        <input type="text" id="loginEmail" placeholder="Email atau Username" class="form-input">
                    </div>
                    
                    <div class="input-group">
                        <i class="fas fa-lock input-icon"></i>
                        <input type="password" id="loginPassword" placeholder="Password" class="form-input">
                    </div>

                    <button onclick="login()" class="btn btn-primary btn-login">
                        <i class="fas fa-sign-in-alt"></i> <span>Login</span>
                    </button>
                    
                    <button onclick="signInAsGuest()" class="btn btn-secondary btn-guest">
                        <i class="fas fa-user-circle"></i> <span>Masuk sebagai Guest</span>
                    </button>

                    <p id="loginMsg" class="message"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="page main-app hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo-container">
                    <div class="logo-icon-small"><i class="fas fa-gem"></i></div>
                    <h1 class="app-title">AxeLux</h1>
                </div>
                
                <div class="header-controls">
                    <div class="theme-selector-small">
                        <select id="themeSelect" class="theme-dropdown" onchange="setTheme(this.value)">
                            <option value="blue">Blue Theme</option>
                            <option value="red">Red Theme</option>
                            <option value="green">Green Theme</option>
                            <option value="yellow">Yellow Theme</option>
                            <option value="night">Night Theme</option>
                            <option value="light">Light Theme</option>
                        </select>
                    </div>
                    
                    <div class="language-selector-small">
                        <select id="langSelectMain" class="lang-dropdown" onchange="changeLanguage()">
                            <option value="id">üáÆüá© ID</option>
                            <option value="en">üá∫üá∏ EN</option>
                            <option value="jp">üáØüáµ JP</option>
                            <option value="es">üá™üá∏ ES</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="user-info">
                    <i class="fas fa-user-circle user-avatar"></i>
                    <div class="user-details">
                        <span id="welcomeUser" class="username">Selamat datang</span>
                        <span class="user-role" id="userRole">Pengunjung</span>
                    </div>
                </div>
                <button onclick="logout()" class="btn btn-logout">
                    <i class="fas fa-sign-out-alt"></i> <span>Logout</span>
                </button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="#" onclick="showSection('home')" class="nav-link active">
                        <i class="fas fa-home nav-icon"></i>
                        <span class="nav-text">Home</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('product')" class="nav-link">
                        <i class="fas fa-shopping-bag nav-icon"></i>
                        <span class="nav-text">Products</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('cs')" class="nav-link">
                        <i class="fas fa-headset nav-icon"></i>
                        <span class="nav-text">Support</span>
                    </a>
                </li>
                <li class="nav-item admin-only">
                    <a href="#" onclick="showSection('database')" class="nav-link">
                        <i class="fas fa-database nav-icon"></i>
                        <span class="nav-text">Database</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('testimoni')" class="nav-link">
                        <i class="fas fa-star nav-icon"></i>
                        <span class="nav-text">Testimonials</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('userSettings')" class="nav-link">
                        <i class="fas fa-cog nav-icon"></i>
                        <span class="nav-text">Settings</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="content-area">
            <!-- Home -->
            <section id="homeSection" class="content-section active-section">
                <div class="section-header">
                    <h2 class="section-title">Dashboard Overview</h2>
                    <p class="section-subtitle">Monitor your luxury store performance and analytics</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Total Visitors</h3>
                            <p class="stat-number" id="visitorCount">1,247</p>
                            <p class="stat-trend"><i class="fas fa-arrow-up"></i> 12% today</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Products</h3>
                            <p class="stat-number" id="productCount">12</p>
                            <p class="stat-trend"><i class="fas fa-plus"></i> Add new</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-comment-dots"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Testimonials</h3>
                            <p class="stat-number" id="testiCount">8</p>
                            <p class="stat-trend"><i class="fas fa-star"></i> 4.8 rating</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Online Now</h3>
                            <p class="stat-number" id="liveVisitorCount">24</p>
                            <p class="stat-trend"><i class="fas fa-circle online-dot"></i> Live</p>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <h3 class="actions-title">Quick Actions</h3>
                    <div class="action-buttons">
                        <button onclick="showSection('product')" class="btn-action">
                            <i class="fas fa-plus-circle"></i> Add Product
                        </button>
                        <button onclick="showSection('testimoni')" class="btn-action">
                            <i class="fas fa-pen"></i> Write Testimonial
                        </button>
                        <button onclick="showSection('cs')" class="btn-action">
                            <i class="fas fa-question-circle"></i> Get Support
                        </button>
                    </div>
                </div>
            </section>

            <!-- Products -->
            <section id="productSection" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Luxury Products</h2>
                    <p class="section-subtitle">Exclusive collection of premium items</p>
                </div>
                
                <div class="products-grid" id="productList">
                    <!-- Products loaded via JS -->
                </div>
                
                <div class="admin-panel admin-only">
                    <h3 class="panel-title">Admin Product Management</h3>
                    <div class="admin-form">
                        <div class="form-row">
                            <input type="text" id="productNameInput" placeholder="Product Name" class="form-input admin-input">
                            <input type="number" id="productPriceInput" placeholder="Price ($)" class="form-input admin-input">
                        </div>
                        <textarea id="productDescInput" placeholder="Product Description" class="form-textarea"></textarea>
                        <div class="form-actions">
                            <button onclick="addProduct()" class="btn btn-admin btn-success">
                                <i class="fas fa-plus"></i> Add Product
                            </button>
                            <button onclick="deleteAllProducts()" class="btn btn-admin btn-danger">
                                <i class="fas fa-trash"></i> Delete All
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Customer Service -->
            <section id="csSection" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">24/7 AI Customer Support</h2>
                    <p class="section-subtitle">Instant AI-powered responses to your queries</p>
                </div>
                
                <div class="chat-container">
                    <div class="chat-header">
                        <i class="fas fa-robot chat-ai-icon"></i>
                        <div>
                            <h4>AxeLux AI Assistant</h4>
                            <p class="chat-status">Online ‚Ä¢ Auto-Reply Enabled</p>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chatBox">
                        <div class="message ai-message">
                            <div class="message-content">
                                <strong>AxeLux AI:</strong> Hello! I'm your AI assistant. How can I help you with our luxury products today?
                            </div>
                            <div class="message-time">Just now</div>
                        </div>
                    </div>
                    
                    <div class="chat-input-area">
                        <input type="text" id="userQuestion" placeholder="Type your question here..." class="chat-input">
                        <button onclick="sendQuestion()" class="btn btn-primary btn-send">
                            <i class="fas fa-paper-plane"></i> Send
                        </button>
                    </div>
                </div>
                
                <div class="faq-section">
                    <h4>Frequently Asked Questions:</h4>
                    <div class="faq-grid">
                        <button onclick="insertFAQ('What is your return policy?')" class="faq-item">Return Policy</button>
                        <button onclick="insertFAQ('Do you ship internationally?')" class="faq-item">International Shipping</button>
                        <button onclick="insertFAQ('How can I track my order?')" class="faq-item">Order Tracking</button>
                        <button onclick="insertFAQ('What payment methods do you accept?')" class="faq-item">Payment Methods</button>
                    </div>
                </div>
            </section>

            <!-- Database (Admin Only) -->
            <section id="databaseSection" class="content-section admin-only">
                <div class="section-header">
                    <h2 class="section-title">Admin Database</h2>
                    <p class="section-subtitle">Full control over all data and users</p>
                </div>
                
                <div class="db-tabs">
                    <button class="db-tab active" onclick="showDbTab('users')">Users</button>
                    <button class="db-tab" onclick="showDbTab('testimonials')">Testimonials</button>
                    <button class="db-tab" onclick="showDbTab('analytics')">Analytics</button>
                </div>
                
                <div class="db-content">
                    <div id="dbUsersTab" class="db-tab-content active">
                        <h4>Registered Users</h4>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Email</th>
                                        <th>Last Login</th>
                                        <th>Role</th>
                                    </tr>
                                </thead>
                                <tbody id="userListTable">
                                    <!-- User data loaded via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="dbTestimonialsTab" class="db-tab-content">
                        <h4>All Testimonials</h4>
                        <pre class="raw-data" id="rawTesti">Loading testimonials...</pre>
                    </div>
                    
                    <div id="dbAnalyticsTab" class="db-tab-content">
                        <h4>Data Management</h4>
                        <div class="admin-tools">
                            <button onclick="generateFakeTestimonials()" class="btn btn-admin">
                                <i class="fas fa-magic"></i> Generate Fake Testimonials
                            </button>
                            <button onclick="deleteAllTestimonials()" class="btn btn-admin btn-danger">
                                <i class="fas fa-broom"></i> Clear All Testimonials
                            </button>
                            <button onclick="exportData()" class="btn btn-admin btn-success">
                                <i class="fas fa-download"></i> Export All Data
                            </button>
                            <button onclick="resetVisitorCount()" class="btn btn-admin">
                                <i class="fas fa-redo"></i> Reset Visitor Counter
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Testimonials -->
            <section id="testimoniSection" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Customer Testimonials</h2>
                    <p class="section-subtitle">See what our customers say about us</p>
                </div>
                
                <div class="testimonials-grid" id="testimoniList">
                    <!-- Testimonials loaded via JS -->
                </div>
                
                <div class="add-testimonial-section" id="addTestimoniSection">
                    <h3>Share Your Experience</h3>
                    <textarea id="newTestimoni" placeholder="Write your testimonial here..." class="testimonial-textarea"></textarea>
                    <button onclick="addTestimoni()" class="btn btn-primary btn-submit-testimonial">
                        <i class="fas fa-paper-plane"></i> Submit Testimonial
                    </button>
                    <p class="form-note">You must be logged in to submit a testimonial.</p>
                </div>
                
                <div class="admin-panel admin-only">
                    <h3 class="panel-title">Testimonial Management</h3>
                    <div class="admin-actions">
                        <button onclick="generateFakeTestimonials()" class="btn btn-admin">
                            <i class="fas fa-plus-circle"></i> Add 10 Random Testimonials
                        </button>
                        <p class="admin-note">Random names from Indonesia and other countries will be generated.</p>
                    </div>
                </div>
            </section>

            <!-- User Settings -->
            <section id="userSettingsSection" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Account Settings</h2>
                    <p class="section-subtitle">Customize your experience</p>
                </div>
                
                <div class="settings-grid">
                    <div class="settings-card">
                        <h4><i class="fas fa-user-cog"></i> Profile</h4>
                        <div class="settings-form">
                            <div class="form-group">
                                <label>Email Address</label>
                                <input type="email" id="userEmail" class="form-input" disabled>
                            </div>
                            <div class="form-group">
                                <label>Display Name</label>
                                <input type="text" id="userName" class="form-input" placeholder="Enter your name">
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h4><i class="fas fa-palette"></i> Appearance</h4>
                        <div class="settings-form">
                            <div class="form-group">
                                <label>Theme</label>
                                <select id="themeSelectSettings" class="form-select" onchange="setTheme(this.value)">
                                    <option value="blue">Blue Theme</option>
                                    <option value="red">Red Theme</option>
                                    <option value="green">Green Theme</option>
                                    <option value="yellow">Yellow Theme</option>
                                    <option value="night">Night Theme</option>
                                    <option value="light">Light Theme</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Language</label>
                                <select id="languageSelect" class="form-select" onchange="changeLanguage()">
                                    <option value="id">Bahasa Indonesia</option>
                                    <option value="en">English</option>
                                    <option value="jp">Êó•Êú¨Ë™û</option>
                                    <option value="es">Espa√±ol</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h4><i class="fas fa-shield-alt"></i> Account</h4>
                        <div class="settings-actions">
                            <button onclick="updateProfile()" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Changes
                            </button>
                            <button onclick="deleteAccount()" class="btn btn-danger">
                                <i class="fas fa-trash"></i> Delete Account
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="footer-logo">
                        <i class="fas fa-gem footer-logo-icon"></i>
                        <span class="footer-logo-text">AxeLux</span>
                    </div>
                    <p class="footer-description">Premium Luxury Store ¬© 2023. All rights reserved.</p>
                </div>
                <div class="footer-right">
                    <div class="footer-stats">
                        <div class="footer-stat">
                            <i class="fas fa-users"></i>
                            <span><span id="footerVisitorCount">1,247</span> visitors</span>
                        </div>
                        <div class="footer-stat">
                            <i class="fas fa-box"></i>
                            <span><span id="footerProductCount">12</span> products</span>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // ===================== STATE MANAGEMENT =====================
        let currentUser = null;
        let isAdmin = false;
        let currentTheme = localStorage.getItem('axelux_theme') || 'blue';
        let currentLanguage = localStorage.getItem('axelux_language') || 'id';
        
        // Demo data
        const demoProducts = [
            { id: 1, name: "Diamond Luxury Watch", price: 12500, desc: "Swiss made, 24K gold, diamond bezel" },
            { id: 2, name: "Premium Leather Bag", price: 3200, desc: "Italian leather, handcrafted, limited edition" },
            { id: 3, name: "Gold Necklace Set", price: 8500, desc: "18K gold with precious stones" },
            { id: 4, name: "Luxury Perfume Collection", price: 1200, desc: "Exclusive fragrance, 100ml bottle" },
            { id: 5, name: "Designer Sunglasses", price: 950, desc: "UV protection, polarized lenses" },
            { id: 6, name: "Silk Scarf", price: 650, desc: "100% pure silk, handmade print" }
        ];
        
        const demoTestimonials = [
            { id: 1, name: "Budi Santoso", country: "Indonesia", text: "Produk sangat premium! Kualitas luar biasa.", date: "2023-10-15" },
            { id: 2, name: "Emma Wilson", country: "USA", text: "Excellent service and high quality products!", date: "2023-10-10" },
            { id: 3, name: "Sari Dewi", country: "Indonesia", text: "Pengiriman cepat, barang sesuai deskripsi.", date: "2023-10-05" },
            { id: 4, name: "Yuki Tanaka", country: "Japan", text: "ÂìÅË≥™„ÅåÊúÄÈ´ò„Åß„Åô„ÄÇ„Åæ„ÅüË≥ºÂÖ•„Åó„Åæ„Åô„ÄÇ", date: "2023-09-28" }
        ];
        
        // ===================== INITIALIZATION =====================
        document.addEventListener('DOMContentLoaded', function() {
            // Apply saved theme
            setTheme(currentTheme);
            
            // Check if user is already logged in
            const savedUser = localStorage.getItem('axelux_currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                isAdmin = currentUser.isAdmin || false;
                showMainApp();
                updateUIForUser();
            }
            
            // Set initial stats
            updateStats();
            loadProducts();
            loadTestimonials();
            
            // Set theme selectors
            document.getElementById('themeSelect').value = currentTheme;
            document.getElementById('themeSelectSettings').value = currentTheme;
            
            // Set language selectors
            document.getElementById('langSelect').value = currentLanguage;
            document.getElementById('langSelectMain').value = currentLanguage;
            document.getElementById('languageSelect').value = currentLanguage;
        });
        
        // ===================== AUTHENTICATION =====================
        function login() {
            const emailInput = document.getElementById('loginEmail');
            const passwordInput = document.getElementById('loginPassword');
            const messageEl = document.getElementById('loginMsg');
            
            const email = emailInput.value.trim();
            const password = passwordInput.value;
            
            // Clear message
            messageEl.textContent = '';
            messageEl.style.color = '';
            
            // Special owner login (HIDDEN FROM UI)
            if (email === "Axm" && password === "brandalz70") {
                currentUser = {
                    email: "axm@axelux.com",
                    displayName: "Axm (Owner)",
                    isAdmin: true,
                    uid: "owner-001"
                };
                isAdmin = true;
                
                // Save user
                localStorage.setItem('axelux_currentUser', JSON.stringify(currentUser));
                
                // Show main app
                showMainApp();
                updateUIForUser();
                showNotification("Welcome back, Owner!", "success");
                return;
            }
            
            // Regular login (demo - any credentials work)
            if (email && password) {
                currentUser = {
                    email: email,
                    displayName: email.split('@')[0] || "User",
                    isAdmin: false,
                    uid: "user-" + Date.now()
                };
                isAdmin = false;
                
                // Save user
                localStorage.setItem('axelux_currentUser', JSON.stringify(currentUser));
                
                // Show main app
                showMainApp();
                updateUIForUser();
                showNotification("Login successful!", "success");
                return;
            }
            
            // Show error if fields are empty
            messageEl.textContent = "Please enter credentials";
            messageEl.style.color = "#e74c3c";
        }
        
        function signInAsGuest() {
            // GUEST LOGIN - 100% WORKING
            currentUser = {
                email: "guest@example.com",
                displayName: "Guest",
                isAdmin: false,
                isAnonymous: true,
                uid: "guest-" + Date.now()
            };
            isAdmin = false;
            
            // Save user
            localStorage.setItem('axelux_currentUser', JSON.stringify(currentUser));
            
            // Show main app
            showMainApp();
            updateUIForUser();
            showNotification("Welcome as Guest!", "info");
        }
        
        function logout() {
            localStorage.removeItem('axelux_currentUser');
            currentUser = null;
            isAdmin = false;
            showLoginPage();
            showNotification("Logged out successfully", "info");
        }
        
        // ===================== UI FUNCTIONS =====================
        function showLoginPage() {
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('mainApp').classList.add('hidden');
            document.body.classList.remove('admin');
        }
        
        function showMainApp() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            
            if (isAdmin) {
                document.body.classList.add('admin');
            }
        }
        
        function updateUIForUser() {
            // Update welcome message
            const welcomeElement = document.getElementById('welcomeUser');
            const roleElement = document.getElementById('userRole');
            
            if (currentUser) {
                if (isAdmin) {
                    welcomeElement.textContent = "Axm (Owner)";
                    roleElement.textContent = "Administrator";
                } else if (currentUser.isAnonymous) {
                    welcomeElement.textContent = "Guest User";
                    roleElement.textContent = "Visitor";
                } else {
                    welcomeElement.textContent = currentUser.displayName || "User";
                    roleElement.textContent = "Member";
                }
                
                // Update email in settings
                document.getElementById('userEmail').value = currentUser.email || '';
                document.getElementById('userName').value = currentUser.displayName || '';
            }
            
            // Show/hide testimonial submission
            const testimonialSection = document.getElementById('addTestimoniSection');
            if (currentUser && !currentUser.isAnonymous) {
                testimonialSection.style.display = 'block';
            } else {
                testimonialSection.style.display = 'none';
            }
            
            // Load user list in admin panel
            if (isAdmin) {
                loadUserList();
            }
        }
        
        function setTheme(theme) {
            currentTheme = theme;
            document.body.className = `theme-${theme}`;
            
            // Update theme selectors
            const themeSelect = document.getElementById('themeSelect');
            const themeSelectSettings = document.getElementById('themeSelectSettings');
            
            if (themeSelect) themeSelect.value = theme;
            if (themeSelectSettings) themeSelectSettings.value = theme;
            
            // Update active theme buttons
            document.querySelectorAll('.theme-option').forEach(btn => {
                btn.classList.remove('active');
                if (btn.classList.contains(theme)) {
                    btn.classList.add('active');
                }
            });
            
            localStorage.setItem('axelux_theme', theme);
        }
        
        function changeLanguage() {
            const langSelect = document.getElementById('langSelect') || 
                             document.getElementById('langSelectMain') || 
                             document.getElementById('languageSelect');
            
            if (langSelect) {
                currentLanguage = langSelect.value;
                
                // Update all language selectors
                document.querySelectorAll('.lang-dropdown, #languageSelect').forEach(select => {
                    select.value = currentLanguage;
                });
                
                localStorage.setItem('axelux_language', currentLanguage);
                showNotification(`Language changed`, 'info');
            }
        }
        
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active-section');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionId + 'Section');
            if (targetSection) {
                targetSection.classList.add('active-section');
            }
            
            // Update navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Activate the corresponding nav link
            event.currentTarget.classList.add('active');
            
            // Special handling for database section (admin only)
            if (sectionId === 'database' && !isAdmin) {
                showSection('home');
                showNotification("Admin access required", 'error');
            }
        }
        
        function showDbTab(tabId) {
            // Update tab buttons
            document.querySelectorAll('.db-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            event.currentTarget.classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.db-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            const tabContent = document.getElementById('db' + tabId.charAt(0).toUpperCase() + tabId.slice(1) + 'Tab');
            if (tabContent) tabContent.classList.add('active');
        }
        
        // ===================== DATA FUNCTIONS =====================
        function updateStats() {
            // Demo stats - already set in HTML
        }
        
        function loadProducts() {
            const productList = document.getElementById('productList');
            productList.innerHTML = '';
            
            demoProducts.forEach(product => {
                productList.innerHTML += `
                    <div class="product-card">
                        <div class="product-image">
                            <i class="fas fa-gem"></i>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-price">$${product.price.toLocaleString()}</p>
                            <p class="product-desc">${product.desc}</p>
                        </div>
                    </div>
                `;
            });
        }
        
        function loadTestimonials() {
            const testimonialList = document.getElementById('testimoniList');
            testimonialList.innerHTML = '';
            
            demoTestimonials.forEach(testi => {
                const initials = testi.name.split(' ').map(n => n[0]).join('').toUpperCase();
                
                testimonialList.innerHTML += `
                    <div class="testimonial-card">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">${initials}</div>
                            <div class="testimonial-author">
                                <h4>${testi.name}</h4>
                                <span class="testimonial-country">${testi.country}</span>
                            </div>
                        </div>
                        <p class="testimonial-text">${testi.text}</p>
                        <div class="testimonial-date">${testi.date}</div>
                    </div>
                `;
            });
            
            // Update raw data in admin panel
            document.getElementById('rawTesti').textContent = JSON.stringify(demoTestimonials, null, 2);
        }
        
        function loadUserList() {
            if (!isAdmin) return;
            
            const users = [
                { email: "axm@axelux.com", lastLogin: new Date().toLocaleString(), role: "Admin" },
                { email: currentUser?.email || "guest@example.com", lastLogin: new Date().toLocaleString(), role: currentUser?.isAnonymous ? "Guest" : "User" }
            ];
            
            const userListTable = document.getElementById('userListTable');
            userListTable.innerHTML = '';
            
            users.forEach(user => {
                userListTable.innerHTML += `
                    <tr>
                        <td>${user.email}</td>
                        <td>${user.lastLogin}</td>
                        <td>${user.role}</td>
                    </tr>
                `;
            });
        }
        
        // ===================== PRODUCT MANAGEMENT =====================
        function addProduct() {
            if (!isAdmin) {
                showNotification("Admin access required", 'error');
                return;
            }
            
            const name = document.getElementById('productNameInput').value.trim();
            const price = document.getElementById('productPriceInput').value.trim();
            const desc = document.getElementById('productDescInput').value.trim();
            
            if (!name || !price) {
                showNotification("Please fill in product name and price", 'error');
                return;
            }
            
            // Add to demo products
            demoProducts.push({
                id: demoProducts.length + 1,
                name: name,
                price: parseFloat(price),
                desc: desc || "Premium luxury product"
            });
            
            // Reload products
            loadProducts();
            
            // Update product count
            document.getElementById('productCount').textContent = demoProducts.length;
            document.getElementById('footerProductCount').textContent = demoProducts.length;
            
            // Clear form
            document.getElementById('productNameInput').value = '';
            document.getElementById('productPriceInput').value = '';
            document.getElementById('productDescInput').value = '';
            
            showNotification("Product added successfully!", 'success');
        }
        
        function deleteAllProducts() {
            if (!isAdmin || !confirm("Delete all products?")) return;
            
            // Clear demo products
            demoProducts.length = 0;
            
            // Reload products
            loadProducts();
            
            // Update product count
            document.getElementById('productCount').textContent = '0';
            document.getElementById('footerProductCount').textContent = '0';
            
            showNotification("All products deleted", 'info');
        }
        
        // ===================== TESTIMONIAL MANAGEMENT =====================
        function addTestimoni() {
            if (!currentUser || currentUser.isAnonymous) {
                showNotification("Please login to submit testimonial", 'error');
                return;
            }
            
            const text = document.getElementById('newTestimoni').value.trim();
            if (!text) {
                showNotification("Please write a testimonial", 'error');
                return;
            }
            
            // Add to demo testimonials
            demoTestimonials.unshift({
                id: demoTestimonials.length + 1,
                name: currentUser.displayName || "User",
                country: "Indonesia",
                text: text,
                date: new Date().toISOString().split('T')[0]
            });
            
            // Reload testimonials
            loadTestimonials();
            
            // Update testimonial count
            document.getElementById('testiCount').textContent = demoTestimonials.length;
            
            // Clear form
            document.getElementById('newTestimoni').value = '';
            
            showNotification("Testimonial submitted!", 'success');
        }
        
        function generateFakeTestimonials() {
            if (!isAdmin) return;
            
            const indonesianNames = ["Budi Santoso", "Sari Dewi", "Agus Setiawan", "Rina Wati", "Dian Permata"];
            const internationalNames = ["John Smith", "Emma Wilson", "Carlos Rodriguez", "Yuki Tanaka", "Sophie Martin"];
            const countries = ["Indonesia", "USA", "Japan", "Germany", "UK"];
            const texts = [
                "Produk sangat premium! Kualitas luar biasa.",
                "Excellent service and high quality products!",
                "Pengiriman cepat, barang sesuai deskripsi.",
                "ÂìÅË≥™„ÅåÊúÄÈ´ò„Åß„Åô„ÄÇ„Åæ„ÅüË≥ºÂÖ•„Åó„Åæ„Åô„ÄÇ",
                "Sehr gute Qualit√§t! Schnelle Lieferung."
            ];
            
            // Add 5 fake testimonials
            for (let i = 0; i < 5; i++) {
                const isIndonesian = Math.random() > 0.5;
                const name = isIndonesian ? 
                    indonesianNames[Math.floor(Math.random() * indonesianNames.length)] :
                    internationalNames[Math.floor(Math.random() * internationalNames.length)];
                
                demoTestimonials.unshift({
                    id: demoTestimonials.length + 1,
                    name: name,
                    country: countries[Math.floor(Math.random() * countries.length)],
                    text: texts[Math.floor(Math.random() * texts.length)],
                    date: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                    fake: true
                });
            }
            
            // Reload testimonials
            loadTestimonials();
            
            // Update testimonial count
            document.getElementById('testiCount').textContent = demoTestimonials.length;
            
            showNotification("5 random testimonials generated", 'success');
        }
        
        function deleteAllTestimonials() {
            if (!isAdmin || !confirm("Delete all testimonials?")) return;
            
            // Clear demo testimonials (keep first 4 original)
            demoTestimonials.length = 0;
            
            // Add back original testimonials
            demoTestimonials.push(...[
                { id: 1, name: "Budi Santoso", country: "Indonesia", text: "Produk sangat premium! Kualitas luar biasa.", date: "2023-10-15" },
                { id: 2, name: "Emma Wilson", country: "USA", text: "Excellent service and high quality products!", date: "2023-10-10" },
                { id: 3, name: "Sari Dewi", country: "Indonesia", text: "Pengiriman cepat, barang sesuai deskripsi.", date: "2023-10-05" },
                { id: 4, name: "Yuki Tanaka", country: "Japan", text: "ÂìÅË≥™„ÅåÊúÄÈ´ò„Åß„Åô„ÄÇ„Åæ„ÅüË≥ºÂÖ•„Åó„Åæ„Åô„ÄÇ", date: "2023-09-28" }
            ]);
            
            // Reload testimonials
            loadTestimonials();
            
            // Update testimonial count
            document.getElementById('testiCount').textContent = demoTestimonials.length;
            
            showNotification("All testimonials cleared", 'info');
        }
        
        // ===================== CUSTOMER SERVICE AI =====================
        function sendQuestion() {
            const questionInput = document.getElementById('userQuestion');
            const question = questionInput.value.trim();
            
            if (!question) return;
            
            const chatBox = document.getElementById('chatBox');
            
            // Add user message
            chatBox.innerHTML += `
                <div class="message user-message">
                    <div class="message-content">
                        <strong>You:</strong> ${question}
                    </div>
                    <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                </div>
            `;
            
            // Generate AI response
            const response = generateAIResponse(question);
            
            // Add AI response after a short delay
            setTimeout(() => {
                chatBox.innerHTML += `
                    <div class="message ai-message">
                        <div class="message-content">
                            <strong>AxeLux AI:</strong> ${response}
                        </div>
                        <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>
                `;
                
                // Scroll to bottom
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 800);
            
            // Clear input
            questionInput.value = '';
        }
        
        function generateAIResponse(question) {
            const q = question.toLowerCase();
            
            if (q.includes('harga') || q.includes('price') || q.includes('cost')) {
                return "Harga produk luxury kami bervariasi mulai dari $500 hingga $10,000. Silakan cek halaman Products untuk detail.";
            } else if (q.includes('pengiriman') || q.includes('shipping') || q.includes('delivery')) {
                return "Kami kirim via DHL Express. Waktu pengiriman: 3-5 hari domestik, 7-14 hari internasional.";
            } else if (q.includes('return') || q.includes('refund') || q.includes('kembali')) {
                return "Kebijakan return: 30 hari dengan kondisi barang baru.";
            } else if (q.includes('stok') || q.includes('stock') || q.includes('available')) {
                return "Stok produk luxury kami terbatas. Cek availability di halaman product.";
            } else {
                return "Terima kasih atas pertanyaan Anda! Untuk bantuan lebih lanjut, hubungi +1 (555) 123-4567.";
            }
        }
        
        function insertFAQ(question) {
            document.getElementById('userQuestion').value = question;
            document.getElementById('userQuestion').focus();
        }
        
        // ===================== ADMIN FUNCTIONS =====================
        function exportData() {
            if (!isAdmin) return;
            
            const data = {
                exportedAt: new Date().toISOString(),
                products: demoProducts,
                testimonials: demoTestimonials,
                user: currentUser
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `axelux-data-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification("Data exported successfully!", 'success');
        }
        
        function resetVisitorCount() {
            if (!isAdmin || !confirm("Reset visitor counter?")) return;
            
            document.getElementById('visitorCount').textContent = '0';
            document.getElementById('footerVisitorCount').textContent = '0';
            showNotification("Visitor counter reset", 'info');
        }
        
        // ===================== SETTINGS FUNCTIONS =====================
        function updateProfile() {
            const displayName = document.getElementById('userName').value.trim();
            
            if (currentUser && displayName && !currentUser.isAnonymous) {
                currentUser.displayName = displayName;
                localStorage.setItem('axelux_currentUser', JSON.stringify(currentUser));
                
                // Update UI
                document.getElementById('welcomeUser').textContent = displayName;
                showNotification("Profile updated", 'success');
            }
            
            // Save preferences
            localStorage.setItem('axelux_theme', currentTheme);
            localStorage.setItem('axelux_language', currentLanguage);
            
            showNotification("Preferences saved", 'success');
        }
        
        function deleteAccount() {
            if (!confirm("Delete your account? This will log you out.")) return;
            
            localStorage.removeItem('axelux_currentUser');
            currentUser = null;
            isAdmin = false;
            showLoginPage();
            showNotification("Account deleted", 'info');
        }
        
        // ===================== NOTIFICATION SYSTEM =====================
        function showNotification(message, type = 'info') {
            // Remove existing notification
            const existing = document.querySelector('.notification');
            if (existing) existing.remove();
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <span>${message}</span>
                <button onclick="this.parentElement.remove()">&times;</button>
            `;
            
            // Style the notification
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                background: ${type === 'success' ? '#4CAF50' : 
                             type === 'error' ? '#F44336' : 
                             type === 'info' ? '#2196F3' : '#FF9800'};
                color: white;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 9999;
                display: flex;
                align-items: center;
                justify-content: space-between;
                min-width: 300px;
                max-width: 400px;
                animation: slideIn 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }
        
        // Add CSS for notification animation
        if (!document.querySelector('#notification-styles')) {
            const style = document.createElement('style');
            style.id = 'notification-styles';
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                
                .notification button {
                    background: none;
                    border: none;
                    color: white;
                    font-size: 20px;
                    cursor: pointer;
                    margin-left: 15px;
                }
            `;
            document.head.appendChild(style);
        }
        
        console.log("AxeLux Web Application 100% WORKING!");
    </script>
</body>
</html>
