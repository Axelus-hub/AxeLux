<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AxeLux | Premium Luxury Store</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body class="theme-blue">
    <!-- Login Page -->
    <div id="loginPage" class="page login-page">
        <div class="login-wrapper">
            <div class="login-card">
                <div class="brand-header">
                    <div class="logo-icon"><i class="fas fa-gem"></i></div>
                    <h1 class="logo-text">AxeLux</h1>
                    <p class="tagline">Premium Luxury Store</p>
                </div>

                <div class="theme-selector">
                    <p class="section-label">Pilih Tema:</p>
                    <div class="theme-buttons">
                        <button onclick="setTheme('blue')" class="theme-option blue active" title="Blue">
                            <i class="fas fa-palette"></i> Blue
                        </button>
                        <button onclick="setTheme('red')" class="theme-option red" title="Red">
                            <i class="fas fa-fire"></i> Red
                        </button>
                        <button onclick="setTheme('green')" class="theme-option green" title="Green">
                            <i class="fas fa-leaf"></i> Green
                        </button>
                        <button onclick="setTheme('yellow')" class="theme-option yellow" title="Yellow">
                            <i class="fas fa-sun"></i> Yellow
                        </button>
                        <button onclick="setTheme('night')" class="theme-option night" title="Night">
                            <i class="fas fa-moon"></i> Night
                        </button>
                        <button onclick="setTheme('light')" class="theme-option light" title="Light">
                            <i class="fas fa-sun"></i> Light
                        </button>
                    </div>
                </div>

                <div class="language-selector">
                    <select id="langSelect" class="lang-dropdown" onchange="changeLanguage()">
                        <option value="id">ðŸ‡®ðŸ‡© Indonesia</option>
                        <option value="en">ðŸ‡ºðŸ‡¸ English</option>
                        <option value="jp">ðŸ‡¯ðŸ‡µ æ—¥æœ¬èªž</option>
                        <option value="es">ðŸ‡ªðŸ‡¸ EspaÃ±ol</option>
                    </select>
                </div>

                <div class="login-form">
                    <h2 class="form-title">Masuk ke Dashboard</h2>
                    
                    <div class="input-group">
                        <i class="fas fa-user input-icon"></i>
                        <input type="text" id="loginEmail" placeholder="Email atau Username" class="form-input">
                    </div>
                    
                    <div class="input-group">
                        <i class="fas fa-lock input-icon"></i>
                        <input type="password" id="loginPassword" placeholder="Password" class="form-input">
                    </div>

                    <button onclick="login()" class="btn btn-primary btn-login">
                        <i class="fas fa-sign-in-alt"></i> <span>Login</span>
                    </button>
                    
                    <button onclick="signInAsGuest()" class="btn btn-secondary btn-guest">
                        <i class="fas fa-user-circle"></i> <span>Masuk sebagai Guest</span>
                    </button>

                    <div class="register-link">
                        <p>Belum punya akun? <a href="#" onclick="showRegisterForm()">Daftar disini</a></p>
                    </div>

                    <p id="loginMsg" class="message"></p>
                </div>

                <!-- Register Form (Hidden by default) -->
                <div class="register-form hidden">
                    <h2 class="form-title">Daftar Akun Baru</h2>
                    
                    <div class="input-group">
                        <i class="fas fa-user input-icon"></i>
                        <input type="text" id="registerName" placeholder="Nama Lengkap" class="form-input">
                    </div>
                    
                    <div class="input-group">
                        <i class="fas fa-envelope input-icon"></i>
                        <input type="email" id="registerEmail" placeholder="Email" class="form-input">
                    </div>
                    
                    <div class="input-group">
                        <i class="fas fa-lock input-icon"></i>
                        <input type="password" id="registerPassword" placeholder="Password" class="form-input">
                    </div>
                    
                    <div class="input-group">
                        <i class="fas fa-lock input-icon"></i>
                        <input type="password" id="registerConfirmPassword" placeholder="Konfirmasi Password" class="form-input">
                    </div>

                    <button onclick="register()" class="btn btn-primary">
                        <i class="fas fa-user-plus"></i> <span>Daftar Sekarang</span>
                    </button>
                    
                    <button onclick="showLoginForm()" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> <span>Kembali ke Login</span>
                    </button>

                    <p id="registerMsg" class="message"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="page main-app hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo-container">
                    <div class="logo-icon-small"><i class="fas fa-gem"></i></div>
                    <h1 class="app-title">AxeLux</h1>
                </div>
                
                <div class="header-controls">
                    <div class="theme-selector-small">
                        <select id="themeSelect" class="theme-dropdown" onchange="setTheme(this.value)">
                            <option value="blue">Blue Theme</option>
                            <option value="red">Red Theme</option>
                            <option value="green">Green Theme</option>
                            <option value="yellow">Yellow Theme</option>
                            <option value="night">Night Theme</option>
                            <option value="light">Light Theme</option>
                        </select>
                    </div>
                    
                    <div class="language-selector-small">
                        <select id="langSelectMain" class="lang-dropdown" onchange="changeLanguage()">
                            <option value="id">ðŸ‡®ðŸ‡© ID</option>
                            <option value="en">ðŸ‡ºðŸ‡¸ EN</option>
                            <option value="jp">ðŸ‡¯ðŸ‡µ JP</option>
                            <option value="es">ðŸ‡ªðŸ‡¸ ES</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="user-info">
                    <i class="fas fa-user-circle user-avatar"></i>
                    <div class="user-details">
                        <span id="welcomeUser" class="username">Selamat datang</span>
                        <span class="user-role" id="userRole">Pengunjung</span>
                    </div>
                </div>
                
                <!-- Notification Bell -->
                <div class="notification-bell" onclick="showNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-count" id="notificationCount">0</span>
                </div>
                
                <button onclick="logout()" class="btn btn-logout">
                    <i class="fas fa-sign-out-alt"></i> <span>Logout</span>
                </button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="#" onclick="showSection('home')" class="nav-link active">
                        <i class="fas fa-home nav-icon"></i>
                        <span class="nav-text">Home</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('product')" class="nav-link">
                        <i class="fas fa-shopping-bag nav-icon"></i>
                        <span class="nav-text">Products</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('cs')" class="nav-link">
                        <i class="fas fa-headset nav-icon"></i>
                        <span class="nav-text">Support</span>
                    </a>
                </li>
                <li class="nav-item admin-only">
                    <a href="#" onclick="showSection('database')" class="nav-link">
                        <i class="fas fa-database nav-icon"></i>
                        <span class="nav-text">Database</span>
                    </a>
                </li>
                <li class="nav-item admin-only">
                    <a href="#" onclick="showSection('adminProduct')" class="nav-link">
                        <i class="fas fa-edit nav-icon"></i>
                        <span class="nav-text">Manage Products</span>
                    </a>
                </li>
                <li class="nav-item ownership-only">
                    <a href="#" onclick="showSection('adminManagement')" class="nav-link">
                        <i class="fas fa-users-cog nav-icon"></i>
                        <span class="nav-text">Admin Management</span>
                    </a>
                </li>
                <li class="nav-item admin-only">
                    <a href="#" onclick="showSection('orderManagement')" class="nav-link">
                        <i class="fas fa-shopping-cart nav-icon"></i>
                        <span class="nav-text">Orders</span>
                        <span class="nav-badge" id="orderBadge">0</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('testimoni')" class="nav-link">
                        <i class="fas fa-star nav-icon"></i>
                        <span class="nav-text">Testimonials</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('userSettings')" class="nav-link">
                        <i class="fas fa-cog nav-icon"></i>
                        <span class="nav-text">Settings</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="content-area">
            <!-- Home -->
            <section id="homeSection" class="content-section active-section">
                <div class="section-header">
                    <h2 class="section-title">Dashboard Overview</h2>
                    <p class="section-subtitle">Monitor your luxury store performance and analytics</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Total Pengunjung</h3>
                            <p class="stat-number" id="visitorCount">1,247</p>
                            <p class="stat-trend"><i class="fas fa-arrow-up"></i> 12% today</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Produk</h3>
                            <p class="stat-number" id="productCount">12</p>
                            <p class="stat-trend"><i class="fas fa-plus"></i> Add new</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-comment-dots"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Testimonials</h3>
                            <p class="stat-number" id="testiCount">8</p>
                            <p class="stat-trend"><i class="fas fa-star"></i> 4.8 rating</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Total Orders</h3>
                            <p class="stat-number" id="totalOrders">0</p>
                            <p class="stat-trend"><i class="fas fa-chart-line"></i> Real-time</p>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <h3 class="actions-title">Quick Actions</h3>
                    <div class="action-buttons">
                        <button onclick="showSection('product')" class="btn-action">
                            <i class="fas fa-shopping-bag"></i> Lihat Produk
                        </button>
                        <button onclick="showSection('testimoni')" class="btn-action">
                            <i class="fas fa-pen"></i> Tulis Testimoni
                        </button>
                        <button onclick="showSection('cs')" class="btn-action">
                            <i class="fas fa-question-circle"></i> Bantuan
                        </button>
                        <button onclick="showSection('adminProduct')" class="btn-action admin-only">
                            <i class="fas fa-plus-circle"></i> Tambah Produk
                        </button>
                        <button onclick="showSection('orderManagement')" class="btn-action admin-only">
                            <i class="fas fa-shopping-cart"></i> Kelola Order
                        </button>
                    </div>
                </div>
                
                <!-- Recent Orders (Admin Only) -->
                <div class="recent-orders admin-only">
                    <h3 class="actions-title">Recent Orders</h3>
                    <div class="orders-table" id="recentOrders">
                        <p>No recent orders</p>
                    </div>
                </div>
            </section>

            <!-- Products (Public View) -->
            <section id="productSection" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Produk Luxury</h2>
                    <p class="section-subtitle">Koleksi eksklusif barang premium</p>
                </div>
                
                <div class="products-grid" id="productList">
                    <!-- Products loaded via JS -->
                </div>
            </section>

            <!-- Admin Product Management -->
            <section id="adminProductSection" class="content-section admin-only">
                <div class="section-header">
                    <h2 class="section-title">Management Produk</h2>
                    <p class="section-subtitle">Tambah, edit, dan kelola produk luxury Anda</p>
                </div>
                
                <div class="admin-product-container">
                    <!-- Product List for Editing -->
                    <div class="admin-product-list">
                        <h3><i class="fas fa-list"></i> Daftar Produk</h3>
                        <div class="product-list-table" id="adminProductList">
                            <!-- Products loaded here -->
                        </div>
                    </div>
                    
                    <!-- Add/Edit Product Form -->
                    <div class="admin-product-form">
                        <h3><i class="fas fa-edit"></i> <span id="formTitle">Tambah Produk Baru</span></h3>
                        
                        <div class="form-container">
                            <!-- Product Image Upload -->
                            <div class="form-group">
                                <label><i class="fas fa-image"></i> Gambar Produk</label>
                                <div class="image-upload-container">
                                    <div class="image-preview" id="imagePreview">
                                        <i class="fas fa-image default-image"></i>
                                        <span>Belum ada gambar</span>
                                    </div>
                                    <div class="upload-actions">
                                        <input type="file" id="productImage" accept="image/*" class="file-input" onchange="previewImage(event)">
                                        <button type="button" class="btn-upload" onclick="document.getElementById('productImage').click()">
                                            <i class="fas fa-upload"></i> Upload Gambar
                                        </button>
                                        <button type="button" class="btn-remove" onclick="removeImage()">
                                            <i class="fas fa-trash"></i> Hapus
                                        </button>
                                    </div>
                                    <p class="form-help">Max size: 5MB. Format: JPG, PNG, GIF</p>
                                </div>
                            </div>
                            
                            <!-- Product Details -->
                            <div class="form-group">
                                <label><i class="fas fa-tag"></i> Nama Produk</label>
                                <input type="text" id="adminProductName" class="form-input" placeholder="Masukkan nama produk">
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-money-bill-wave"></i> Harga (Rp)</label>
                                <input type="number" id="adminProductPrice" class="form-input" placeholder="Masukkan harga">
                                <p class="form-help">Format: angka saja (contoh: 1250000)</p>
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-align-left"></i> Deskripsi</label>
                                <textarea id="adminProductDesc" class="form-textarea" rows="4" placeholder="Masukkan deskripsi produk"></textarea>
                            </div>
                            
                            <!-- Payment Methods -->
                            <div class="form-group">
                                <label><i class="fas fa-credit-card"></i> Metode Pembayaran</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="paymentDana" class="payment-checkbox" value="dana">
                                        <label for="paymentDana">
                                            <i class="fas fa-wallet" style="color: #00b4ff;"></i> Dana
                                        </label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="paymentGopay" class="payment-checkbox" value="gopay">
                                        <label for="paymentGopay">
                                            <i class="fas fa-mobile-alt" style="color: #00aa13;"></i> GoPay
                                        </label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="paymentOvo" class="payment-checkbox" value="ovo">
                                        <label for="paymentOvo">
                                            <i class="fas fa-bolt" style="color: #4c3cae;"></i> OVO
                                        </label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="paymentQris" class="payment-checkbox" value="qris">
                                        <label for="paymentQris">
                                            <i class="fas fa-qrcode" style="color: #ff6b00;"></i> QRIS
                                        </label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="paymentBank" class="payment-checkbox" value="bank">
                                        <label for="paymentBank">
                                            <i class="fas fa-university" style="color: #2ecc71;"></i> Bank Transfer
                                        </label>
                                    </div>
                                </div>
                                <p class="form-help">Pilih minimal satu metode pembayaran</p>
                            </div>
                            
                            <!-- Order Channels -->
                            <div class="form-group">
                                <label><i class="fas fa-shopping-cart"></i> Channel Order</label>
                                <div class="order-channels">
                                    <!-- Default Channels -->
                                    <div class="channel-group">
                                        <div class="channel-item">
                                            <input type="checkbox" id="channelWhatsapp" class="channel-checkbox" value="whatsapp">
                                            <label for="channelWhatsapp">
                                                <i class="fab fa-whatsapp" style="color: #25d366;"></i> WhatsApp
                                            </label>
                                            <input type="text" id="whatsappNumber" class="channel-input" value="0881010065137" readonly>
                                        </div>
                                        <div class="channel-item">
                                            <input type="checkbox" id="channelDiscord" class="channel-checkbox" value="discord">
                                            <label for="channelDiscord">
                                                <i class="fab fa-discord" style="color: #7289da;"></i> Discord
                                            </label>
                                            <input type="text" id="discordUsername" class="channel-input" placeholder="@username" disabled>
                                        </div>
                                        <div class="channel-item">
                                            <input type="checkbox" id="channelTelegram" class="channel-checkbox" value="telegram">
                                            <label for="channelTelegram">
                                                <i class="fab fa-telegram" style="color: #0088cc;"></i> Telegram
                                            </label>
                                            <input type="text" id="telegramUsername" class="channel-input" placeholder="@username" disabled>
                                        </div>
                                        <div class="channel-item">
                                            <input type="checkbox" id="channelInstagram" class="channel-checkbox" value="instagram">
                                            <label for="channelInstagram">
                                                <i class="fab fa-instagram" style="color: #e4405f;"></i> Instagram
                                            </label>
                                            <input type="text" id="instagramUsername" class="channel-input" placeholder="@username" disabled>
                                        </div>
                                    </div>
                                    
                                    <!-- Custom Channels -->
                                    <div class="custom-channels" id="customChannels">
                                        <h4><i class="fas fa-plus"></i> Tambah Channel Custom</h4>
                                        <div class="custom-channel-input">
                                            <input type="text" id="customChannelName" placeholder="Nama channel (contoh: Shopee, Tokopedia)">
                                            <input type="text" id="customChannelLink" placeholder="Link atau username">
                                            <button type="button" onclick="addCustomChannel()" class="btn-add-channel">
                                                <i class="fas fa-plus"></i> Tambah
                                            </button>
                                        </div>
                                        <div class="custom-channels-list" id="customChannelsList">
                                            <!-- Custom channels added here -->
                                        </div>
                                    </div>
                                </div>
                                <p class="form-help">Pilih minimal satu channel order</p>
                            </div>
                            
                            <!-- Form Actions -->
                            <div class="form-actions">
                                <input type="hidden" id="editingProductId" value="">
                                <button type="button" onclick="saveProduct()" class="btn btn-primary btn-save">
                                    <i class="fas fa-save"></i> <span id="saveButtonText">Simpan Produk</span>
                                </button>
                                <button type="button" onclick="clearForm()" class="btn btn-secondary">
                                    <i class="fas fa-times"></i> Batal
                                </button>
                                <button type="button" onclick="deleteProduct()" class="btn btn-danger" id="deleteButton" style="display: none;">
                                    <i class="fas fa-trash"></i> Hapus Produk
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Admin Management (Ownership Only) -->
            <section id="adminManagementSection" class="content-section ownership-only">
                <div class="section-header">
                    <h2 class="section-title">Management Administrator</h2>
                    <p class="section-subtitle">Buat dan kelola akun administrator</p>
                </div>
                
                <div class="admin-management-container">
                    <!-- Create Admin Account -->
                    <div class="create-admin-form">
                        <h3><i class="fas fa-user-plus"></i> Buat Akun Administrator</h3>
                        <div class="form-container">
                            <div class="form-group">
                                <label><i class="fas fa-user"></i> Nama Lengkap</label>
                                <input type="text" id="adminFullName" class="form-input" placeholder="Masukkan nama lengkap">
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-envelope"></i> Email</label>
                                <input type="email" id="adminEmail" class="form-input" placeholder="Masukkan email">
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-lock"></i> Password</label>
                                <input type="password" id="adminPassword" class="form-input" placeholder="Masukkan password">
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-lock"></i> Konfirmasi Password</label>
                                <input type="password" id="adminConfirmPassword" class="form-input" placeholder="Konfirmasi password">
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-shield-alt"></i> Hak Akses</label>
                                <div class="permissions-grid">
                                    <div class="permission-item">
                                        <input type="checkbox" id="permProduct" checked disabled>
                                        <label for="permProduct">Kelola Produk</label>
                                    </div>
                                    <div class="permission-item">
                                        <input type="checkbox" id="permOrder" checked disabled>
                                        <label for="permOrder">Kelola Order</label>
                                    </div>
                                    <div class="permission-item">
                                        <input type="checkbox" id="permDatabase" checked disabled>
                                        <label for="permDatabase">Akses Database</label>
                                    </div>
                                    <div class="permission-item">
                                        <input type="checkbox" id="permTestimonial" checked>
                                        <label for="permTestimonial">Kelola Testimonial</label>
                                    </div>
                                    <div class="permission-item">
                                        <input type="checkbox" id="permFakeTesti">
                                        <label for="permFakeTesti">Buat Fake Testimonial</label>
                                    </div>
                                </div>
                                <p class="form-help">Semua admin mendapatkan akses full kecuali fake testimonial (khusus ownership)</p>
                            </div>
                            
                            <button type="button" onclick="createAdminAccount()" class="btn btn-primary">
                                <i class="fas fa-user-plus"></i> Buat Akun Admin
                            </button>
                        </div>
                    </div>
                    
                    <!-- Admin List -->
                    <div class="admin-list">
                        <h3><i class="fas fa-users"></i> Daftar Administrator</h3>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nama</th>
                                        <th>Email</th>
                                        <th>Tanggal Dibuat</th>
                                        <th>Status</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="adminListTable">
                                    <!-- Admin list loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Order Management -->
            <section id="orderManagementSection" class="content-section admin-only">
                <div class="section-header">
                    <h2 class="section-title">Management Order</h2>
                    <p class="section-subtitle">Kelola semua order dari customer</p>
                </div>
                
                <div class="order-management-container">
                    <!-- Order Tabs -->
                    <div class="order-tabs">
                        <button class="order-tab active" onclick="showOrderTab('pending')">
                            <i class="fas fa-clock"></i> Pending
                            <span class="tab-badge" id="pendingBadge">0</span>
                        </button>
                        <button class="order-tab" onclick="showOrderTab('processing')">
                            <i class="fas fa-spinner"></i> Processing
                            <span class="tab-badge" id="processingBadge">0</span>
                        </button>
                        <button class="order-tab" onclick="showOrderTab('completed')">
                            <i class="fas fa-check-circle"></i> Completed
                            <span class="tab-badge" id="completedBadge">0</span>
                        </button>
                        <button class="order-tab" onclick="showOrderTab('cancelled')">
                            <i class="fas fa-times-circle"></i> Cancelled
                            <span class="tab-badge" id="cancelledBadge">0</span>
                        </button>
                    </div>
                    
                    <!-- Order List -->
                    <div class="order-list-container">
                        <div class="order-list" id="orderList">
                            <!-- Orders loaded here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Customer Service -->
            <section id="csSection" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">24/7 Customer Support</h2>
                    <p class="section-subtitle">Bantuan langsung dari tim kami</p>
                </div>
                
                <div class="chat-support-container">
                    <!-- AI Chat -->
                    <div class="chat-container">
                        <div class="chat-header">
                            <i class="fas fa-robot chat-ai-icon"></i>
                            <div>
                                <h4>AxeLux AI Assistant</h4>
                                <p class="chat-status">Online â€¢ Auto-Reply Enabled</p>
                            </div>
                        </div>
                        
                        <div class="chat-messages" id="chatBox">
                            <div class="message ai-message">
                                <div class="message-content">
                                    <strong>AxeLux AI:</strong> Halo! Saya AI assistant. Bagaimana saya bisa membantu Anda dengan produk luxury kami hari ini?
                                </div>
                                <div class="message-time">Baru saja</div>
                            </div>
                        </div>
                        
                        <div class="chat-input-area">
                            <input type="text" id="userQuestion" placeholder="Ketik pertanyaan Anda..." class="chat-input">
                            <button onclick="sendQuestion()" class="btn btn-primary btn-send">
                                <i class="fas fa-paper-plane"></i> Kirim
                            </button>
                        </div>
                    </div>
                    
                    <!-- Live Chat with Admin -->
                    <div class="live-chat-container admin-chat-only">
                        <div class="chat-header">
                            <i class="fas fa-headset chat-admin-icon"></i>
                            <div>
                                <h4>Live Chat Support</h4>
                                <p class="chat-status">Admin Online: <span id="onlineAdminCount">0</span></p>
                            </div>
                        </div>
                        
                        <div class="chat-messages" id="liveChatBox">
                            <div class="message admin-message">
                                <div class="message-content">
                                    <strong>Admin:</strong> Selamat datang di live chat support! Silakan tanyakan apa yang Anda butuhkan.
                                </div>
                                <div class="message-time">Baru saja</div>
                            </div>
                        </div>
                        
                        <div class="chat-input-area">
                            <input type="text" id="liveChatMessage" placeholder="Ketik pesan untuk admin..." class="chat-input">
                            <button onclick="sendLiveChat()" class="btn btn-success btn-send">
                                <i class="fas fa-paper-plane"></i> Kirim ke Admin
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Contact Information -->
                <div class="contact-info">
                    <h4><i class="fas fa-phone-alt"></i> Hubungi Kami Langsung</h4>
                    <div class="contact-grid">
                        <div class="contact-item">
                            <i class="fab fa-whatsapp contact-icon whatsapp"></i>
                            <div>
                                <h5>WhatsApp</h5>
                                <p>0881010065137</p>
                                <a href="https://wa.me/62881010065137" target="_blank" class="btn-contact">
                                    <i class="fab fa-whatsapp"></i> Chat Now
                                </a>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope contact-icon email"></i>
                            <div>
                                <h5>Email</h5>
                                <p>support@axelux.com</p>
                                <a href="mailto:support@axelux.com" class="btn-contact">
                                    <i class="fas fa-envelope"></i> Send Email
                                </a>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-clock contact-icon hours"></i>
                            <div>
                                <h5>Jam Operasional</h5>
                                <p>24/7 Support</p>
                                <p class="small">Respon cepat dalam 5 menit</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Database (Admin Only) -->
            <section id="databaseSection" class="content-section admin-only">
                <div class="section-header">
                    <h2 class="section-title">Database Admin</h2>
                    <p class="section-subtitle">Kontrol penuh atas semua data dan pengguna</p>
                </div>
                
                <div class="db-tabs">
                    <button class="db-tab active" onclick="showDbTab('users')">Users</button>
                    <button class="db-tab" onclick="showDbTab('testimonials')">Testimonials</button>
                    <button class="db-tab" onclick="showDbTab('analytics')">Analytics</button>
                    <button class="db-tab" onclick="showDbTab('logs')">Activity Logs</button>
                </div>
                
                <div class="db-content">
                    <div id="dbUsersTab" class="db-tab-content active">
                        <h4>Registered Users</h4>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nama</th>
                                        <th>Email</th>
                                        <th>Role</th>
                                        <th>Last Login</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="userListTable">
                                    <!-- User data loaded via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="dbTestimonialsTab" class="db-tab-content">
                        <h4>All Testimonials</h4>
                        <div class="testimonial-management">
                            <div class="admin-actions">
                                <button onclick="showCreateFakeTestimonial()" class="btn btn-admin ownership-only">
                                    <i class="fas fa-plus-circle"></i> Buat Fake Testimonial
                                </button>
                                <button onclick="deleteAllTestimonials()" class="btn btn-admin btn-danger">
                                    <i class="fas fa-trash"></i> Hapus Semua Testimonial
                                </button>
                            </div>
                            <pre class="raw-data" id="rawTesti">Loading testimonials...</pre>
                        </div>
                    </div>
                    
                    <div id="dbAnalyticsTab" class="db-tab-content">
                        <h4>Data Analytics</h4>
                        <div class="analytics-grid">
                            <div class="analytics-card">
                                <h5>Visitor Statistics</h5>
                                <p>Today: <strong id="visitorsToday">0</strong></p>
                                <p>This Week: <strong id="visitorsWeek">0</strong></p>
                                <p>Total: <strong id="visitorsTotal">0</strong></p>
                            </div>
                            <div class="analytics-card">
                                <h5>Order Statistics</h5>
                                <p>Today: <strong id="ordersToday">0</strong></p>
                                <p>This Week: <strong id="ordersWeek">0</strong></p>
                                <p>Total Revenue: <strong id="revenueTotal">Rp 0</strong></p>
                            </div>
                            <div class="analytics-card">
                                <h5>User Statistics</h5>
                                <p>Total Users: <strong id="totalUsers">0</strong></p>
                                <p>Active Today: <strong id="activeUsers">0</strong></p>
                                <p>Admins: <strong id="totalAdmins">0</strong></p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="dbLogsTab" class="db-tab-content">
                        <h4>Activity Logs</h4>
                        <div class="logs-container">
                            <div class="logs-list" id="activityLogs">
                                <!-- Activity logs loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Testimonials -->
            <section id="testimoniSection" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Customer Testimonials</h2>
                    <p class="section-subtitle">Lihat apa kata pelanggan tentang kami</p>
                </div>
                
                <div class="testimonials-grid" id="testimoniList">
                    <!-- Testimonials loaded via JS -->
                </div>
                
                <div class="add-testimonial-section" id="addTestimoniSection">
                    <h3>Bagikan Pengalaman Anda</h3>
                    <textarea id="newTestimoni" placeholder="Tulis testimonial Anda di sini..." class="testimonial-textarea"></textarea>
                    <button onclick="addTestimoni()" class="btn btn-primary btn-submit-testimonial">
                        <i class="fas fa-paper-plane"></i> Kirim Testimonial
                    </button>
                    <p class="form-note">Anda harus login untuk mengirim testimonial.</p>
                </div>
                
                <!-- Create Fake Testimonial (Ownership Only) -->
                <div class="create-fake-testimonial ownership-only hidden" id="createFakeTestimonial">
                    <h3><i class="fas fa-magic"></i> Buat Fake Testimonial</h3>
                    <div class="fake-testimonial-form">
                        <div class="form-group">
                            <label>Nama</label>
                            <input type="text" id="fakeTestimonialName" class="form-input" placeholder="Masukkan nama">
                        </div>
                        <div class="form-group">
                            <label>Negara</label>
                            <input type="text" id="fakeTestimonialCountry" class="form-input" placeholder="Masukkan negara" value="Indonesia">
                        </div>
                        <div class="form-group">
                            <label>Testimonial Text</label>
                            <textarea id="fakeTestimonialText" class="form-textarea" rows="3" placeholder="Masukkan text testimonial"></textarea>
                        </div>
                        <div class="form-actions">
                            <button onclick="createFakeTestimonial()" class="btn btn-primary">
                                <i class="fas fa-plus"></i> Buat Testimonial
                            </button>
                            <button onclick="hideCreateFakeTestimonial()" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Batal
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- User Settings -->
            <section id="userSettingsSection" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Pengaturan Akun</h2>
                    <p class="section-subtitle">Sesuaikan pengalaman Anda</p>
                </div>
                
                <div class="settings-grid">
                    <div class="settings-card">
                        <h4><i class="fas fa-user-cog"></i> Profile</h4>
                        <div class="settings-form">
                            <div class="form-group">
                                <label>Email Address</label>
                                <input type="email" id="userEmail" class="form-input" disabled>
                            </div>
                            <div class="form-group">
                                <label>Display Name</label>
                                <input type="text" id="userName" class="form-input" placeholder="Enter your name">
                            </div>
                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="tel" id="userPhone" class="form-input" placeholder="+62xxx">
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h4><i class="fas fa-palette"></i> Appearance</h4>
                        <div class="settings-form">
                            <div class="form-group">
                                <label>Theme</label>
                                <select id="themeSelectSettings" class="form-select" onchange="setTheme(this.value)">
                                    <option value="blue">Blue Theme</option>
                                    <option value="red">Red Theme</option>
                                    <option value="green">Green Theme</option>
                                    <option value="yellow">Yellow Theme</option>
                                    <option value="night">Night Theme</option>
                                    <option value="light">Light Theme</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Language</label>
                                <select id="languageSelect" class="form-select" onchange="changeLanguage()">
                                    <option value="id">Bahasa Indonesia</option>
                                    <option value="en">English</option>
                                    <option value="jp">æ—¥æœ¬èªž</option>
                                    <option value="es">EspaÃ±ol</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h4><i class="fas fa-shield-alt"></i> Account</h4>
                        <div class="settings-actions">
                            <button onclick="updateProfile()" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Changes
                            </button>
                            <button onclick="changePassword()" class="btn btn-secondary">
                                <i class="fas fa-key"></i> Change Password
                            </button>
                            <button onclick="deleteAccount()" class="btn btn-danger">
                                <i class="fas fa-trash"></i> Delete Account
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="footer-logo">
                        <i class="fas fa-gem footer-logo-icon"></i>
                        <span class="footer-logo-text">AxeLux</span>
                    </div>
                    <p class="footer-description">Premium Luxury Store Â© 2023. All rights reserved.</p>
                    <p class="footer-contact">
                        <i class="fas fa-phone"></i> 0881010065137 | 
                        <i class="fas fa-envelope"></i> support@axelux.com
                    </p>
                </div>
                <div class="footer-right">
                    <div class="footer-stats">
                        <div class="footer-stat">
                            <i class="fas fa-users"></i>
                            <span><span id="footerVisitorCount">1,247</span> visitors</span>
                        </div>
                        <div class="footer-stat">
                            <i class="fas fa-box"></i>
                            <span><span id="footerProductCount">12</span> products</span>
                        </div>
                        <div class="footer-stat">
                            <i class="fas fa-shopping-cart"></i>
                            <span><span id="footerOrderCount">0</span> orders</span>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Notification Panel -->
    <div class="notification-panel hidden" id="notificationPanel">
        <div class="notification-header">
            <h3><i class="fas fa-bell"></i> Notifications</h3>
            <button onclick="hideNotifications()" class="btn-close">&times;</button>
        </div>
        <div class="notification-list" id="notificationList">
            <!-- Notifications loaded here -->
        </div>
    </div>

    <script>
        // ===================== SYSTEM CONFIGURATION =====================
        const SYSTEM_CONFIG = {
            ownership: {
                username: "ownership",
                password: "brandalz70",
                email: "ownership@axelux.com",
                phone: "0881010065137"
            },
            defaultOrderChannel: {
                whatsapp: "0881010065137",
                email: "support@axelux.com"
            },
            currency: "IDR",
            currencySymbol: "Rp",
            taxRate: 0.11, // 11% PPN
            adminPermissions: {
                manageProducts: true,
                manageOrders: true,
                accessDatabase: true,
                manageTestimonials: true,
                createFakeTestimonials: false // Only ownership
            }
        };

        // ===================== STATE MANAGEMENT =====================
        let currentUser = null;
        let isAdmin = false;
        let isOwnership = false;
        let currentTheme = localStorage.getItem('axelux_theme') || 'blue';
        let currentLanguage = localStorage.getItem('axelux_language') || 'id';
        let currentImageFile = null;
        let currentImageUrl = null;
        let currentOrderTab = 'pending';
        let notifications = JSON.parse(localStorage.getItem('axelux_notifications') || '[]');
        let activityLogs = JSON.parse(localStorage.getItem('axelux_activity_logs') || '[]');

        // Demo data
        let demoProducts = JSON.parse(localStorage.getItem('axelux_products') || `[
            { 
                "id": 1, 
                "name": "Jam Tangan Luxury Diamond", 
                "price": 12500000, 
                "desc": "Buatan Swiss, emas 24K, bezel diamond",
                "image": null,
                "payments": ["bank", "qris"],
                "channels": [
                    { "type": "whatsapp", "value": "0881010065137" }
                ],
                "customChannels": [],
                "createdAt": "2023-10-15",
                "stock": 10
            },
            { 
                "id": 2, 
                "name": "Tas Kulit Premium", 
                "price": 3200000, 
                "desc": "Kulit Italia, buatan tangan, edisi terbatas",
                "image": null,
                "payments": ["dana", "gopay", "bank"],
                "channels": [
                    { "type": "whatsapp", "value": "0881010065137" }
                ],
                "customChannels": [],
                "createdAt": "2023-10-10",
                "stock": 5
            }
        ]`);

        let demoTestimonials = JSON.parse(localStorage.getItem('axelux_testimonials') || `[
            { "id": 1, "name": "Budi Santoso", "country": "Indonesia", "text": "Produk sangat premium! Kualitas luar biasa.", "date": "2023-10-15", "fake": false },
            { "id": 2, "name": "Emma Wilson", "country": "USA", "text": "Excellent service and high quality products!", "date": "2023-10-10", "fake": false }
        ]`);

        let demoUsers = JSON.parse(localStorage.getItem('axelux_users') || `[
            {
                "id": "owner-001",
                "email": "ownership@axelux.com",
                "name": "Ownership",
                "password": "brandalz70",
                "role": "ownership",
                "createdAt": "2023-01-01",
                "lastLogin": "${new Date().toISOString()}",
                "phone": "0881010065137",
                "permissions": {
                    "manageProducts": true,
                    "manageOrders": true,
                    "accessDatabase": true,
                    "manageTestimonials": true,
                    "createFakeTestimonials": true,
                    "manageAdmins": true
                }
            }
        ]`);

        let demoOrders = JSON.parse(localStorage.getItem('axelux_orders') || `[]`);

        let demoAdmins = JSON.parse(localStorage.getItem('axelux_admins') || `[]`);

        // ===================== INITIALIZATION =====================
        document.addEventListener('DOMContentLoaded', function() {
            // Apply saved theme
            setTheme(currentTheme);
            
            // Load all data
            loadAllData();
            
            // Check if user is already logged in
            const savedUser = localStorage.getItem('axelux_currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserRoles();
                showMainApp();
                updateUIForUser();
                updateNotifications();
                logActivity('login', 'User logged in');
            }
            
            // Set theme selectors
            document.getElementById('themeSelect').value = currentTheme;
            document.getElementById('themeSelectSettings').value = currentTheme;
            
            // Set language selectors
            document.getElementById('langSelect').value = currentLanguage;
            document.getElementById('langSelectMain').value = currentLanguage;
            document.getElementById('languageSelect').value = currentLanguage;
            
            // Setup channel checkbox listeners
            setupChannelListeners();
            
            // Auto-check WhatsApp as default
            setTimeout(() => {
                const whatsappCheckbox = document.getElementById('channelWhatsapp');
                if (whatsappCheckbox) {
                    whatsappCheckbox.checked = true;
                    const whatsappInput = document.getElementById('whatsappNumber');
                    whatsappInput.disabled = false;
                    whatsappInput.value = SYSTEM_CONFIG.ownership.phone;
                }
            }, 100);
            
            console.log("AxeLux System Initialized with Ownership Mode");
        });
        
        function loadAllData() {
            updateStats();
            loadProducts();
            loadAdminProducts();
            loadTestimonials();
            loadAdminList();
            loadOrders();
            updateOrderBadges();
            loadActivityLogs();
        }
        
        function setupChannelListeners() {
            document.querySelectorAll('.channel-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const channelType = this.value;
                    const inputId = channelType + (channelType === 'whatsapp' ? 'Number' : 'Username');
                    const input = document.getElementById(inputId);
                    input.disabled = !this.checked;
                    if (!this.checked) input.value = '';
                });
            });
        }
        
        // ===================== AUTHENTICATION & REGISTRATION =====================
        function showLoginForm() {
            document.querySelector('.login-form').classList.remove('hidden');
            document.querySelector('.register-form').classList.add('hidden');
        }
        
        function showRegisterForm() {
            document.querySelector('.login-form').classList.add('hidden');
            document.querySelector('.register-form').classList.remove('hidden');
        }
        
        function login() {
            const emailInput = document.getElementById('loginEmail');
            const passwordInput = document.getElementById('loginPassword');
            const messageEl = document.getElementById('loginMsg');
            
            const email = emailInput.value.trim();
            const password = passwordInput.value;
            
            // Clear message
            messageEl.textContent = '';
            messageEl.style.color = '';
            
            // Ownership login
            if ((email === "ownership" || email === "Axm") && password === SYSTEM_CONFIG.ownership.password) {
                currentUser = demoUsers.find(u => u.role === 'ownership');
                if (!currentUser) {
                    currentUser = {
                        id: "owner-001",
                        email: SYSTEM_CONFIG.ownership.email,
                        name: "Ownership",
                        role: "ownership",
                        phone: SYSTEM_CONFIG.ownership.phone,
                        permissions: {
                            manageProducts: true,
                            manageOrders: true,
                            accessDatabase: true,
                            manageTestimonials: true,
                            createFakeTestimonials: true,
                            manageAdmins: true
                        }
                    };
                }
                
                updateUserRoles();
                saveCurrentUser();
                showMainApp();
                updateUIForUser();
                logActivity('login', 'Ownership logged in');
                showNotification("Selamat datang, Ownership!", "success");
                return;
            }
            
            // Admin login
            const adminUser = demoUsers.find(u => 
                (u.email === email || u.name === email) && 
                u.password === password && 
                (u.role === 'admin' || u.role === 'ownership')
            );
            
            if (adminUser) {
                currentUser = adminUser;
                updateUserRoles();
                saveCurrentUser();
                showMainApp();
                updateUIForUser();
                logActivity('login', `Admin ${currentUser.name} logged in`);
                showNotification(`Selamat datang, ${currentUser.name}!`, "success");
                return;
            }
            
            // Regular user login
            const regularUser = demoUsers.find(u => 
                (u.email === email || u.name === email) && 
                u.password === password && 
                u.role === 'user'
            );
            
            if (regularUser) {
                currentUser = regularUser;
                updateUserRoles();
                saveCurrentUser();
                showMainApp();
                updateUIForUser();
                logActivity('login', `User ${currentUser.name} logged in`);
                showNotification("Login berhasil!", "success");
                return;
            }
            
            // Show error
            messageEl.textContent = "Email/username atau password salah!";
            messageEl.style.color = "#e74c3c";
        }
        
        function register() {
            const nameInput = document.getElementById('registerName');
            const emailInput = document.getElementById('registerEmail');
            const passwordInput = document.getElementById('registerPassword');
            const confirmInput = document.getElementById('registerConfirmPassword');
            const messageEl = document.getElementById('registerMsg');
            
            const name = nameInput.value.trim();
            const email = emailInput.value.trim();
            const password = passwordInput.value;
            const confirmPassword = confirmInput.value;
            
            // Validation
            if (!name || !email || !password || !confirmPassword) {
                messageEl.textContent = "Semua field harus diisi!";
                messageEl.style.color = "#e74c3c";
                return;
            }
            
            if (password !== confirmPassword) {
                messageEl.textContent = "Password tidak cocok!";
                messageEl.style.color = "#e74c3c";
                return;
            }
            
            if (password.length < 6) {
                messageEl.textContent = "Password minimal 6 karakter!";
                messageEl.style.color = "#e74c3c";
                return;
            }
            
            // Check if email already exists
            if (demoUsers.some(u => u.email === email)) {
                messageEl.textContent = "Email sudah terdaftar!";
                messageEl.style.color = "#e74c3c";
                return;
            }
            
            // Create new user
            const newUser = {
                id: 'user-' + Date.now(),
                email: email,
                name: name,
                password: password,
                role: 'user',
                createdAt: new Date().toISOString(),
                lastLogin: new Date().toISOString(),
                phone: '',
                permissions: {}
            };
            
            demoUsers.push(newUser);
            saveUsers();
            
            currentUser = newUser;
            updateUserRoles();
            saveCurrentUser();
            
            showMainApp();
            updateUIForUser();
            logActivity('register', `New user registered: ${name}`);
            showNotification("Pendaftaran berhasil! Akun Anda telah dibuat.", "success");
            
            // Clear form
            nameInput.value = '';
            emailInput.value = '';
            passwordInput.value = '';
            confirmInput.value = '';
            
            // Show login form
            showLoginForm();
        }
        
        function signInAsGuest() {
            currentUser = {
                id: "guest-" + Date.now(),
                email: "guest@example.com",
                name: "Guest",
                role: "guest",
                isAnonymous: true,
                createdAt: new Date().toISOString(),
                lastLogin: new Date().toISOString()
            };
            
            updateUserRoles();
            saveCurrentUser();
            showMainApp();
            updateUIForUser();
            logActivity('login', 'Guest user logged in');
            showNotification("Selamat datang sebagai Guest!", "info");
        }
        
        function logout() {
            logActivity('logout', `${currentUser.name} logged out`);
            localStorage.removeItem('axelux_currentUser');
            currentUser = null;
            updateUserRoles();
            showLoginPage();
            showNotification("Anda telah logout", "info");
        }
        
        function updateUserRoles() {
            isOwnership = currentUser && currentUser.role === 'ownership';
            isAdmin = currentUser && (currentUser.role === 'admin' || currentUser.role === 'ownership');
        }
        
        function saveCurrentUser() {
            if (currentUser && !currentUser.isAnonymous) {
                // Update last login
                const userIndex = demoUsers.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    demoUsers[userIndex].lastLogin = new Date().toISOString();
                    saveUsers();
                }
                
                localStorage.setItem('axelux_currentUser', JSON.stringify(currentUser));
            }
        }
        
        // ===================== ADMIN MANAGEMENT =====================
        function createAdminAccount() {
            if (!isOwnership) {
                showNotification("Hanya ownership yang bisa membuat akun admin", "error");
                return;
            }
            
            const name = document.getElementById('adminFullName').value.trim();
            const email = document.getElementById('adminEmail').value.trim();
            const password = document.getElementById('adminPassword').value;
            const confirmPassword = document.getElementById('adminConfirmPassword').value;
            
            // Validation
            if (!name || !email || !password || !confirmPassword) {
                showNotification("Semua field harus diisi!", "error");
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification("Password tidak cocok!", "error");
                return;
            }
            
            if (password.length < 6) {
                showNotification("Password minimal 6 karakter!", "error");
                return;
            }
            
            // Check if email already exists
            if (demoUsers.some(u => u.email === email)) {
                showNotification("Email sudah terdaftar!", "error");
                return;
            }
            
            // Get permissions
            const canCreateFakeTesti = document.getElementById('permFakeTesti').checked;
            
            // Create admin user
            const newAdmin = {
                id: 'admin-' + Date.now(),
                email: email,
                name: name,
                password: password,
                role: 'admin',
                createdAt: new Date().toISOString(),
                lastLogin: new Date().toISOString(),
                phone: '',
                permissions: {
                    manageProducts: true,
                    manageOrders: true,
                    accessDatabase: true,
                    manageTestimonials: true,
                    createFakeTestimonials: canCreateFakeTesti,
                    manageAdmins: false
                },
                createdBy: currentUser.id
            };
            
            demoUsers.push(newAdmin);
            demoAdmins.push(newAdmin);
            saveUsers();
            saveAdmins();
            
            // Clear form
            document.getElementById('adminFullName').value = '';
            document.getElementById('adminEmail').value = '';
            document.getElementById('adminPassword').value = '';
            document.getElementById('adminConfirmPassword').value = '';
            document.getElementById('permFakeTesti').checked = false;
            
            // Reload admin list
            loadAdminList();
            
            logActivity('admin_create', `Ownership created admin account: ${name}`);
            showNotification(`Akun admin ${name} berhasil dibuat!`, "success");
            
            // Send notification to new admin
            addNotification({
                id: 'notif-' + Date.now(),
                userId: newAdmin.id,
                title: 'Account Created',
                message: `Akun admin Anda telah dibuat oleh Ownership. Email: ${email}`,
                type: 'info',
                read: false,
                createdAt: new Date().toISOString()
            });
        }
        
        function loadAdminList() {
            if (!isOwnership) return;
            
            const adminListTable = document.getElementById('adminListTable');
            adminListTable.innerHTML = '';
            
            demoAdmins.forEach(admin => {
                adminListTable.innerHTML += `
                    <tr>
                        <td>${admin.name}</td>
                        <td>${admin.email}</td>
                        <td>${new Date(admin.createdAt).toLocaleDateString()}</td>
                        <td><span class="status-badge active">Active</span></td>
                        <td>
                            <button onclick="resetAdminPassword('${admin.id}')" class="btn-action-small">
                                <i class="fas fa-key"></i> Reset Password
                            </button>
                            <button onclick="deleteAdmin('${admin.id}')" class="btn-action-small danger">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </td>
                    </tr>
                `;
            });
        }
        
        function resetAdminPassword(adminId) {
            if (!isOwnership) return;
            
            const newPassword = prompt("Masukkan password baru untuk admin ini:");
            if (!newPassword || newPassword.length < 6) {
                showNotification("Password minimal 6 karakter!", "error");
                return;
            }
            
            const adminIndex = demoUsers.findIndex(u => u.id === adminId);
            if (adminIndex !== -1) {
                demoUsers[adminIndex].password = newPassword;
                saveUsers();
                
                const admin = demoUsers[adminIndex];
                logActivity('admin_password_reset', `Ownership reset password for admin: ${admin.name}`);
                showNotification(`Password untuk ${admin.name} telah direset!`, "success");
            }
        }
        
        function deleteAdmin(adminId) {
            if (!isOwnership) return;
            
            if (!confirm("Yakin ingin menghapus akun admin ini?")) return;
            
            const adminIndex = demoUsers.findIndex(u => u.id === adminId);
            if (adminIndex !== -1) {
                const adminName = demoUsers[adminIndex].name;
                demoUsers.splice(adminIndex, 1);
                saveUsers();
                
                const adminListIndex = demoAdmins.findIndex(a => a.id === adminId);
                if (adminListIndex !== -1) {
                    demoAdmins.splice(adminListIndex, 1);
                    saveAdmins();
                }
                
                loadAdminList();
                logActivity('admin_delete', `Ownership deleted admin account: ${adminName}`);
                showNotification(`Akun admin ${adminName} telah dihapus!`, "info");
            }
        }
        
        // ===================== ORDER MANAGEMENT =====================
        function createOrder(productId) {
            const product = demoProducts.find(p => p.id == productId);
            if (!product) return;
            
            if (!currentUser) {
                showNotification("Silakan login terlebih dahulu untuk order", "error");
                return;
            }
            
            const order = {
                id: 'order-' + Date.now(),
                productId: product.id,
                productName: product.name,
                productPrice: product.price,
                customerId: currentUser.id,
                customerName: currentUser.name,
                customerEmail: currentUser.email,
                status: 'pending',
                quantity: 1,
                totalAmount: product.price,
                paymentMethod: product.payments[0] || 'bank',
                orderChannel: 'whatsapp',
                orderChannelValue: SYSTEM_CONFIG.defaultOrderChannel.whatsapp,
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString(),
                notes: ''
            };
            
            demoOrders.push(order);
            saveOrders();
            
            // Update stock
            if (product.stock !== undefined) {
                product.stock = Math.max(0, product.stock - 1);
                saveProducts();
            }
            
            // Redirect to WhatsApp
            const message = `Halo, saya ingin order produk:\n\n` +
                          `Nama Produk: ${product.name}\n` +
                          `Harga: Rp ${formatCurrency(product.price)}\n` +
                          `Deskripsi: ${product.desc}\n\n` +
                          `Nama: ${currentUser.name}\n` +
                          `Email: ${currentUser.email}\n\n` +
                          `Silakan berikan instruksi pembayaran.`;
            
            const whatsappUrl = `https://wa.me/${SYSTEM_CONFIG.defaultOrderChannel.whatsapp.replace('+', '')}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            // Add notification for admins
            addAdminNotification(`New Order: ${product.name} by ${currentUser.name}`);
            
            logActivity('order_create', `${currentUser.name} ordered ${product.name}`);
            showNotification(`Order berhasil! Silakan lanjutkan pembayaran via WhatsApp.`, "success");
            
            // Update UI
            updateOrderBadges();
            loadOrders();
            loadProducts();
        }
        
        function loadOrders() {
            if (!isAdmin) return;
            
            const filteredOrders = demoOrders.filter(order => order.status === currentOrderTab);
            const orderList = document.getElementById('orderList');
            orderList.innerHTML = '';
            
            if (filteredOrders.length === 0) {
                orderList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-shopping-cart"></i>
                        <p>Tidak ada order dengan status ${currentOrderTab}</p>
                    </div>
                `;
                return;
            }
            
            filteredOrders.forEach(order => {
                const statusColors = {
                    'pending': 'warning',
                    'processing': 'info',
                    'completed': 'success',
                    'cancelled': 'danger'
                };
                
                orderList.innerHTML += `
                    <div class="order-item">
                        <div class="order-header">
                            <div class="order-id">Order #${order.id.substring(0, 8)}</div>
                            <div class="order-status ${statusColors[order.status]}">${order.status}</div>
                        </div>
                        <div class="order-body">
                            <div class="order-product">
                                <strong>${order.productName}</strong>
                                <p>Rp ${formatCurrency(order.totalAmount)} Ã— ${order.quantity}</p>
                            </div>
                            <div class="order-customer">
                                <p><i class="fas fa-user"></i> ${order.customerName}</p>
                                <p><i class="fas fa-envelope"></i> ${order.customerEmail}</p>
                            </div>
                            <div class="order-meta">
                                <p><i class="fas fa-calendar"></i> ${new Date(order.createdAt).toLocaleString()}</p>
                                <p><i class="fas fa-credit-card"></i> ${order.paymentMethod}</p>
                            </div>
                        </div>
                        <div class="order-actions">
                            ${order.status === 'pending' ? `
                                <button onclick="updateOrderStatus('${order.id}', 'processing')" class="btn-action-small">
                                    <i class="fas fa-spinner"></i> Process
                                </button>
                                <button onclick="updateOrderStatus('${order.id}', 'cancelled')" class="btn-action-small danger">
                                    <i class="fas fa-times"></i> Cancel
                                </button>
                            ` : ''}
                            ${order.status === 'processing' ? `
                                <button onclick="updateOrderStatus('${order.id}', 'completed')" class="btn-action-small success">
                                    <i class="fas fa-check"></i> Complete
                                </button>
                                <button onclick="updateOrderStatus('${order.id}', 'cancelled')" class="btn-action-small danger">
                                    <i class="fas fa-times"></i> Cancel
                                </button>
                            ` : ''}
                            <button onclick="viewOrderDetails('${order.id}')" class="btn-action-small">
                                <i class="fas fa-eye"></i> Details
                            </button>
                        </div>
                    </div>
                `;
            });
            
            // Update recent orders in home
            updateRecentOrders();
        }
        
        function updateOrderStatus(orderId, newStatus) {
            const orderIndex = demoOrders.findIndex(o => o.id === orderId);
            if (orderIndex !== -1) {
                const oldStatus = demoOrders[orderIndex].status;
                demoOrders[orderIndex].status = newStatus;
                demoOrders[orderIndex].updatedAt = new Date().toISOString();
                saveOrders();
                
                logActivity('order_update', `${currentUser.name} changed order ${orderId} from ${oldStatus} to ${newStatus}`);
                showNotification(`Order status updated to ${newStatus}`, "success");
                
                // Reload orders
                loadOrders();
                updateOrderBadges();
                
                // Send notification to customer if order completed
                if (newStatus === 'completed') {
                    const order = demoOrders[orderIndex];
                    addNotification({
                        id: 'notif-' + Date.now(),
                        userId: order.customerId,
                        title: 'Order Completed',
                        message: `Order Anda #${orderId.substring(0, 8)} telah selesai. Terima kasih!`,
                        type: 'success',
                        read: false,
                        createdAt: new Date().toISOString()
                    });
                }
            }
        }
        
        function updateOrderBadges() {
            if (!isAdmin) return;
            
            const pendingCount = demoOrders.filter(o => o.status === 'pending').length;
            const processingCount = demoOrders.filter(o => o.status === 'processing').length;
            const completedCount = demoOrders.filter(o => o.status === 'completed').length;
            const cancelledCount = demoOrders.filter(o => o.status === 'cancelled').length;
            const totalCount = demoOrders.length;
            
            document.getElementById('orderBadge').textContent = pendingCount;
            document.getElementById('pendingBadge').textContent = pendingCount;
            document.getElementById('processingBadge').textContent = processingCount;
            document.getElementById('completedBadge').textContent = completedCount;
            document.getElementById('cancelledBadge').textContent = cancelledCount;
            document.getElementById('totalOrders').textContent = totalCount;
            document.getElementById('footerOrderCount').textContent = totalCount;
        }
        
        function updateRecentOrders() {
            if (!isAdmin) return;
            
            const recentOrdersList = demoOrders
                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
                .slice(0, 5);
            
            const recentOrdersEl = document.getElementById('recentOrders');
            recentOrdersEl.innerHTML = '';
            
            if (recentOrdersList.length === 0) {
                recentOrdersEl.innerHTML = '<p>No recent orders</p>';
                return;
            }
            
            recentOrdersList.forEach(order => {
                recentOrdersEl.innerHTML += `
                    <div class="recent-order-item">
                        <div class="recent-order-product">${order.productName}</div>
                        <div class="recent-order-customer">${order.customerName}</div>
                        <div class="recent-order-amount">Rp ${formatCurrency(order.totalAmount)}</div>
                        <div class="recent-order-status ${order.status}">${order.status}</div>
                    </div>
                `;
            });
        }
        
        function showOrderTab(tab) {
            currentOrderTab = tab;
            
            // Update tab buttons
            document.querySelectorAll('.order-tab').forEach(tabEl => {
                tabEl.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // Load orders for this tab
            loadOrders();
        }
        
        // ===================== TESTIMONIAL MANAGEMENT =====================
        function addTestimoni() {
            if (!currentUser || currentUser.role === 'guest') {
                showNotification("Silakan login atau daftar untuk mengirim testimonial", "error");
                return;
            }
            
            const text = document.getElementById('newTestimoni').value.trim();
            if (!text) {
                showNotification("Silakan tulis testimonial Anda", "error");
                return;
            }
            
            const newTestimonial = {
                id: demoTestimonials.length + 1,
                name: currentUser.name,
                country: "Indonesia",
                text: text,
                date: new Date().toISOString().split('T')[0],
                fake: false,
                userId: currentUser.id,
                verified: currentUser.role !== 'guest'
            };
            
            demoTestimonials.unshift(newTestimonial);
            saveTestimonials();
            loadTestimonials();
            
            document.getElementById('newTestimoni').value = '';
            document.getElementById('testiCount').textContent = demoTestimonials.length;
            
            logActivity('testimonial_add', `${currentUser.name} added a testimonial`);
            showNotification("Testimonial berhasil dikirim! Terima kasih.", "success");
        }
        
        function showCreateFakeTestimonial() {
            if (!isOwnership) {
                showNotification("Hanya ownership yang bisa membuat fake testimonial", "error");
                return;
            }
            
            document.getElementById('createFakeTestimonial').classList.remove('hidden');
        }
        
        function hideCreateFakeTestimonial() {
            document.getElementById('createFakeTestimonial').classList.add('hidden');
        }
        
        function createFakeTestimonial() {
            if (!isOwnership) {
                showNotification("Hanya ownership yang bisa membuat fake testimonial", "error");
                return;
            }
            
            const name = document.getElementById('fakeTestimonialName').value.trim();
            const country = document.getElementById('fakeTestimonialCountry').value.trim();
            const text = document.getElementById('fakeTestimonialText').value.trim();
            
            if (!name || !text) {
                showNotification("Nama dan text testimonial harus diisi", "error");
                return;
            }
            
            const newTestimonial = {
                id: demoTestimonials.length + 1,
                name: name,
                country: country || "Indonesia",
                text: text,
                date: new Date().toISOString().split('T')[0],
                fake: true,
                userId: 'ownership',
                verified: true,
                createdBy: currentUser.id
            };
            
            demoTestimonials.unshift(newTestimonial);
            saveTestimonials();
            loadTestimonials();
            
            // Clear form
            document.getElementById('fakeTestimonialName').value = '';
            document.getElementById('fakeTestimonialCountry').value = 'Indonesia';
            document.getElementById('fakeTestimonialText').value = '';
            
            document.getElementById('testiCount').textContent = demoTestimonials.length;
            
            logActivity('testimonial_fake_create', `Ownership created fake testimonial for ${name}`);
            showNotification("Fake testimonial berhasil dibuat!", "success");
            hideCreateFakeTestimonial();
        }
        
        // ===================== NOTIFICATION SYSTEM =====================
        function addNotification(notification) {
            notifications.unshift(notification);
            saveNotifications();
            updateNotifications();
        }
        
        function addAdminNotification(message) {
            demoUsers.forEach(user => {
                if (user.role === 'admin' || user.role === 'ownership') {
                    addNotification({
                        id: 'notif-' + Date.now(),
                        userId: user.id,
                        title: 'Admin Notification',
                        message: message,
                        type: 'info',
                        read: false,
                        createdAt: new Date().toISOString()
                    });
                }
            });
        }
        
        function updateNotifications() {
            if (!currentUser) return;
            
            const userNotifications = notifications.filter(n => n.userId === currentUser.id);
            const unreadCount = userNotifications.filter(n => !n.read).length;
            
            document.getElementById('notificationCount').textContent = unreadCount;
            
            // Update notification list
            const notificationList = document.getElementById('notificationList');
            notificationList.innerHTML = '';
            
            if (userNotifications.length === 0) {
                notificationList.innerHTML = '<p class="no-notifications">No notifications</p>';
                return;
            }
            
            userNotifications.slice(0, 10).forEach(notif => {
                const icon = {
                    'info': 'fa-info-circle',
                    'success': 'fa-check-circle',
                    'warning': 'fa-exclamation-circle',
                    'error': 'fa-times-circle'
                }[notif.type] || 'fa-bell';
                
                notificationList.innerHTML += `
                    <div class="notification-item ${notif.read ? 'read' : 'unread'}" onclick="markNotificationRead('${notif.id}')">
                        <div class="notification-icon">
                            <i class="fas ${icon} ${notif.type}"></i>
                        </div>
                        <div class="notification-content">
                            <div class="notification-title">${notif.title}</div>
                            <div class="notification-message">${notif.message}</div>
                            <div class="notification-time">${new Date(notif.createdAt).toLocaleString()}</div>
                        </div>
                    </div>
                `;
            });
        }
        
        function markNotificationRead(notificationId) {
            const notifIndex = notifications.findIndex(n => n.id === notificationId);
            if (notifIndex !== -1) {
                notifications[notifIndex].read = true;
                saveNotifications();
                updateNotifications();
            }
        }
        
        function showNotifications() {
            document.getElementById('notificationPanel').classList.remove('hidden');
        }
        
        function hideNotifications() {
            document.getElementById('notificationPanel').classList.add('hidden');
        }
        
        // ===================== ACTIVITY LOGS =====================
        function logActivity(action, description) {
            const log = {
                id: 'log-' + Date.now(),
                userId: currentUser ? currentUser.id : 'system',
                userName: currentUser ? currentUser.name : 'System',
                action: action,
                description: description,
                timestamp: new Date().toISOString(),
                ip: '127.0.0.1' // In real app, get from server
            };
            
            activityLogs.unshift(log);
            if (activityLogs.length > 100) activityLogs = activityLogs.slice(0, 100);
            saveActivityLogs();
        }
        
        function loadActivityLogs() {
            if (!isAdmin) return;
            
            const logsList = document.getElementById('activityLogs');
            logsList.innerHTML = '';
            
            activityLogs.slice(0, 20).forEach(log => {
                logsList.innerHTML += `
                    <div class="log-item">
                        <div class="log-header">
                            <span class="log-user">${log.userName}</span>
                            <span class="log-time">${new Date(log.timestamp).toLocaleString()}</span>
                        </div>
                        <div class="log-action">${log.action}</div>
                        <div class="log-description">${log.description}</div>
                    </div>
                `;
            });
        }
        
        // ===================== UI FUNCTIONS =====================
        function showLoginPage() {
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('mainApp').classList.add('hidden');
            document.body.classList.remove('admin', 'ownership');
        }
        
        function showMainApp() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            
            if (isOwnership) {
                document.body.classList.add('admin', 'ownership');
            } else if (isAdmin) {
                document.body.classList.add('admin');
                document.body.classList.remove('ownership');
            } else {
                document.body.classList.remove('admin', 'ownership');
            }
        }
        
        function updateUIForUser() {
            // Update welcome message
            const welcomeElement = document.getElementById('welcomeUser');
            const roleElement = document.getElementById('userRole');
            
            if (currentUser) {
                welcomeElement.textContent = currentUser.name;
                
                if (isOwnership) {
                    roleElement.textContent = "Ownership";
                } else if (isAdmin) {
                    roleElement.textContent = "Administrator";
                } else if (currentUser.role === 'guest') {
                    roleElement.textContent = "Guest";
                } else {
                    roleElement.textContent = "Member";
                }
                
                // Update email in settings
                document.getElementById('userEmail').value = currentUser.email || '';
                document.getElementById('userName').value = currentUser.name || '';
                document.getElementById('userPhone').value = currentUser.phone || '';
            }
            
            // Show/hide testimonial submission
            const testimonialSection = document.getElementById('addTestimoniSection');
            if (currentUser && currentUser.role !== 'guest') {
                testimonialSection.style.display = 'block';
            } else {
                testimonialSection.style.display = 'none';
            }
            
            // Load user list in admin panel
            if (isAdmin) {
                loadUserList();
                updateAnalytics();
            }
        }
        
        function setTheme(theme) {
            currentTheme = theme;
            document.body.className = `theme-${theme} ${isOwnership ? 'ownership' : ''} ${isAdmin ? 'admin' : ''}`;
            
            // Update theme selectors
            const themeSelect = document.getElementById('themeSelect');
            const themeSelectSettings = document.getElementById('themeSelectSettings');
            
            if (themeSelect) themeSelect.value = theme;
            if (themeSelectSettings) themeSelectSettings.value = theme;
            
            // Update active theme buttons
            document.querySelectorAll('.theme-option').forEach(btn => {
                btn.classList.remove('active');
                if (btn.classList.contains(theme)) {
                    btn.classList.add('active');
                }
            });
            
            localStorage.setItem('axelux_theme', theme);
        }
        
        // ===================== PRODUCT MANAGEMENT (From previous code) =====================
        // Note: These functions are mostly the same as before but with IDR currency
        function formatCurrency(amount) {
            return amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }
        
        function loadProducts() {
            const productList = document.getElementById('productList');
            productList.innerHTML = '';
            
            demoProducts.forEach(product => {
                // Get payment icons
                const paymentIcons = {
                    'dana': '<i class="fas fa-wallet" style="color: #00b4ff;"></i>',
                    'gopay': '<i class="fas fa-mobile-alt" style="color: #00aa13;"></i>',
                    'ovo': '<i class="fas fa-bolt" style="color: #4c3cae;"></i>',
                    'qris': '<i class="fas fa-qrcode" style="color: #ff6b00;"></i>',
                    'bank': '<i class="fas fa-university" style="color: #2ecc71;"></i>'
                };
                
                // Get channel icons
                const channelIcons = {
                    'whatsapp': '<i class="fab fa-whatsapp" style="color: #25d366;"></i>',
                    'discord': '<i class="fab fa-discord" style="color: #7289da;"></i>',
                    'telegram': '<i class="fab fa-telegram" style="color: #0088cc;"></i>',
                    'instagram': '<i class="fab fa-instagram" style="color: #e4405f;"></i>'
                };
                
                let paymentHtml = '';
                if (product.payments && product.payments.length > 0) {
                    paymentHtml = product.payments.map(p => paymentIcons[p] || `<i class="fas fa-money-bill-wave"></i>`).join(' ');
                }
                
                let channelsHtml = '';
                if (product.channels && product.channels.length > 0) {
                    channelsHtml = product.channels.map(c => channelIcons[c.type] || `<i class="fas fa-shopping-cart"></i>`).join(' ');
                }
                
                // Custom channels
                let customChannelsHtml = '';
                if (product.customChannels && product.customChannels.length > 0) {
                    customChannelsHtml = product.customChannels.map(c => 
                        `<span class="custom-channel-badge"><i class="fas fa-link"></i> ${c.name}</span>`
                    ).join(' ');
                }
                
                // Stock indicator
                const stockStatus = product.stock > 5 ? 'Tersedia' : 
                                   product.stock > 0 ? 'Hampir Habis' : 'Habis';
                const stockClass = product.stock > 5 ? 'in-stock' : 
                                  product.stock > 0 ? 'low-stock' : 'out-of-stock';
                
                productList.innerHTML += `
                    <div class="product-card">
                        <div class="product-image">
                            ${product.image ? 
                                `<img src="${product.image}" alt="${product.name}" style="width:100%;height:100%;object-fit:cover;">` : 
                                `<i class="fas fa-gem"></i>`
                            }
                            ${product.stock !== undefined ? `
                                <div class="product-stock ${stockClass}">${stockStatus}${product.stock > 0 ? ` (${product.stock})` : ''}</div>
                            ` : ''}
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-price">Rp ${formatCurrency(product.price)}</p>
                            <p class="product-desc">${product.desc}</p>
                            
                            <div class="product-meta">
                                <div class="product-payments">
                                    <strong>Pembayaran:</strong> ${paymentHtml || 'Bank Transfer'}
                                </div>
                                <div class="product-channels">
                                    <strong>Order via:</strong> ${channelsHtml} ${customChannelsHtml}
                                </div>
                                <div class="product-actions">
                                    <button onclick="createOrder(${product.id})" class="btn-order" ${product.stock === 0 ? 'disabled' : ''}>
                                        <i class="fas fa-shopping-cart"></i> Order Now
                                    </button>
                                    <button onclick="viewProductDetails(${product.id})" class="btn-secondary">
                                        <i class="fas fa-info-circle"></i> Details
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            // Update product count
            document.getElementById('productCount').textContent = demoProducts.length;
            document.getElementById('footerProductCount').textContent = demoProducts.length;
        }
        
        // ===================== SAVE FUNCTIONS =====================
        function saveProducts() {
            localStorage.setItem('axelux_products', JSON.stringify(demoProducts));
        }
        
        function saveTestimonials() {
            localStorage.setItem('axelux_testimonials', JSON.stringify(demoTestimonials));
        }
        
        function saveUsers() {
            localStorage.setItem('axelux_users', JSON.stringify(demoUsers));
        }
        
        function saveOrders() {
            localStorage.setItem('axelux_orders', JSON.stringify(demoOrders));
        }
        
        function saveAdmins() {
            localStorage.setItem('axelux_admins', JSON.stringify(demoAdmins));
        }
        
        function saveNotifications() {
            localStorage.setItem('axelux_notifications', JSON.stringify(notifications));
        }
        
        function saveActivityLogs() {
            localStorage.setItem('axelux_activity_logs', JSON.stringify(activityLogs));
        }
        
        // ===================== UTILITY FUNCTIONS =====================
        function showNotification(message, type = 'info') {
            // Remove existing notification
            const existing = document.querySelector('.notification-toast');
            if (existing) existing.remove();
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification-toast notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas ${type === 'success' ? 'fa-check-circle' : 
                                   type === 'error' ? 'fa-times-circle' : 
                                   type === 'warning' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i>
                    <span>${message}</span>
                </div>
                <button onclick="this.parentElement.remove()">&times;</button>
            `;
            
            document.body.appendChild(notification);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }
        
        function updateStats() {
            // Update visitor count (demo)
            const visitorCount = parseInt(localStorage.getItem('axelux_visitor_count') || '1247');
            localStorage.setItem('axelux_visitor_count', (visitorCount + 1).toString());
            
            document.getElementById('visitorCount').textContent = formatCurrency(visitorCount + 1);
            document.getElementById('footerVisitorCount').textContent = formatCurrency(visitorCount + 1);
        }
        
        function updateAnalytics() {
            if (!isAdmin) return;
            
            // Calculate analytics
            const today = new Date().toISOString().split('T')[0];
            const weekAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
            
            const visitorsToday = Math.floor(Math.random() * 50) + 20;
            const visitorsWeek = Math.floor(Math.random() * 300) + 150;
            const visitorsTotal = parseInt(localStorage.getItem('axelux_visitor_count') || '1247');
            
            const ordersToday = demoOrders.filter(o => o.createdAt.split('T')[0] === today).length;
            const ordersWeek = demoOrders.filter(o => o.createdAt >= weekAgo).length;
            const revenueTotal = demoOrders
                .filter(o => o.status === 'completed')
                .reduce((sum, o) => sum + o.totalAmount, 0);
            
            const totalUsers = demoUsers.filter(u => u.role === 'user').length;
            const activeUsers = demoUsers.filter(u => 
                new Date(u.lastLogin).toISOString().split('T')[0] === today
            ).length;
            const totalAdmins = demoUsers.filter(u => u.role === 'admin' || u.role === 'ownership').length;
            
            // Update UI
            document.getElementById('visitorsToday').textContent = visitorsToday;
            document.getElementById('visitorsWeek').textContent = visitorsWeek;
            document.getElementById('visitorsTotal').textContent = visitorsTotal;
            
            document.getElementById('ordersToday').textContent = ordersToday;
            document.getElementById('ordersWeek').textContent = ordersWeek;
            document.getElementById('revenueTotal').textContent = `Rp ${formatCurrency(revenueTotal)}`;
            
            document.getElementById('totalUsers').textContent = totalUsers;
            document.getElementById('activeUsers').textContent = activeUsers;
            document.getElementById('totalAdmins').textContent = totalAdmins;
        }
        
        // ===================== CHAT FUNCTIONS =====================
        function sendQuestion() {
            const questionInput = document.getElementById('userQuestion');
            const question = questionInput.value.trim();
            
            if (!question) return;
            
            const chatBox = document.getElementById('chatBox');
            
            // Add user message
            chatBox.innerHTML += `
                <div class="message user-message">
                    <div class="message-content">
                        <strong>You:</strong> ${question}
                    </div>
                    <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                </div>
            `;
            
            // Generate AI response
            const response = generateAIResponse(question);
            
            // Add AI response after a short delay
            setTimeout(() => {
                chatBox.innerHTML += `
                    <div class="message ai-message">
                        <div class="message-content">
                            <strong>AxeLux AI:</strong> ${response}
                        </div>
                        <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>
                `;
                
                // Scroll to bottom
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 800);
            
            // Clear input
            questionInput.value = '';
        }
        
        function generateAIResponse(question) {
            const q = question.toLowerCase();
            
            if (q.includes('harga') || q.includes('price') || q.includes('mahal')) {
                return "Harga produk luxury kami berkisar dari Rp 500.000 hingga Rp 50.000.000. Setiap produk memiliki kualitas premium yang sesuai dengan harganya.";
            } else if (q.includes('pengiriman') || q.includes('shipping') || q.includes('ongkir')) {
                return "Kami menyediakan pengiriman via JNE, J&T, dan GoSend. Gratis ongkir untuk pembelian di atas Rp 5.000.000. Waktu pengiriman 2-5 hari kerja.";
            } else if (q.includes('return') || q.includes('refund') || q.includes('garansi')) {
                return "Garansi 30 hari untuk semua produk. Return diterima jika barang cacat produksi. Hubungi 0881010065137 untuk proses return.";
            } else if (q.includes('payment') || q.includes('pembayaran') || q.includes('bayar')) {
                return "Kami menerima: Dana, GoPay, OVO, QRIS, dan transfer bank (BCA, Mandiri, BNI, BRI). Pilihan pembayaran tersedia di detail produk.";
            } else if (q.includes('order') || q.includes('pesan') || q.includes('beli')) {
                return "Untuk order, klik tombol 'Order Now' pada produk yang Anda inginkan. Anda akan diarahkan ke WhatsApp kami (0881010065137) untuk konfirmasi order.";
            } else if (q.includes('stok') || q.includes('stock') || q.includes('tersedia')) {
                return "Stok produk dapat dilihat di halaman produk. Jika stok habis, Anda bisa pre-order dengan waktu tunggu 2-3 minggu.";
            } else if (q.includes('kontak') || q.includes('contact') || q.includes('cs')) {
                return `Hubungi kami via:\nâ€¢ WhatsApp: 0881010065137\nâ€¢ Email: support@axelux.com\nâ€¢ Live chat di website ini (untuk admin online)`;
            } else {
                return "Terima kasih atas pertanyaan Anda! Untuk informasi lebih detail, hubungi customer service kami di 0881010065137 atau email support@axelux.com.";
            }
        }
        
        function sendLiveChat() {
            if (!currentUser) {
                showNotification("Silakan login terlebih dahulu untuk live chat", "error");
                return;
            }
            
            const messageInput = document.getElementById('liveChatMessage');
            const message = messageInput.value.trim();
            
            if (!message) return;
            
            const chatBox = document.getElementById('liveChatBox');
            
            // Add user message
            chatBox.innerHTML += `
                <div class="message user-message">
                    <div class="message-content">
                        <strong>${currentUser.name}:</strong> ${message}
                    </div>
                    <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                </div>
            `;
            
            // Clear input
            messageInput.value = '';
            
            // Auto-reply from admin (simulated)
            setTimeout(() => {
                const adminResponses = [
                    "Terima kasih telah menghubungi kami. Bagaimana saya bisa membantu?",
                    "Pesan Anda telah diterima. Admin akan membalas secepatnya.",
                    "Untuk pertanyaan tentang produk, silakan lihat halaman produk atau hubungi WhatsApp kami.",
                    "Mohon tunggu sebentar, admin sedang online dan akan segera merespon."
                ];
                
                const randomResponse = adminResponses[Math.floor(Math.random() * adminResponses.length)];
                
                chatBox.innerHTML += `
                    <div class="message admin-message">
                        <div class="message-content">
                            <strong>Admin:</strong> ${randomResponse}
                        </div>
                        <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>
                `;
                
                // Scroll to bottom
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 2000);
            
            // Notify admins
            addAdminNotification(`Live Chat: ${currentUser.name} sent a message`);
            
            logActivity('live_chat', `${currentUser.name} sent live chat message`);
        }
        
        // ===================== SECTION NAVIGATION =====================
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active-section');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionId + 'Section');
            if (targetSection) {
                targetSection.classList.add('active-section');
            }
            
            // Update navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Activate the corresponding nav link
            event.currentTarget.classList.add('active');
            
            // Special handling for admin sections
            if ((sectionId === 'database' || sectionId === 'adminProduct' || 
                 sectionId === 'adminManagement' || sectionId === 'orderManagement') && !isAdmin) {
                showSection('home');
                showNotification("Akses admin diperlukan", "error");
                return;
            }
            
            // Special handling for ownership sections
            if (sectionId === 'adminManagement' && !isOwnership) {
                showSection('home');
                showNotification("Akses ownership diperlukan", "error");
                return;
            }
            
            // Load data for specific sections
            if (sectionId === 'adminProduct' && isAdmin) {
                loadAdminProducts();
            } else if (sectionId === 'adminManagement' && isOwnership) {
                loadAdminList();
            } else if (sectionId === 'orderManagement' && isAdmin) {
                loadOrders();
            } else if (sectionId === 'database' && isAdmin) {
                loadActivityLogs();
                updateAnalytics();
            }
        }
        
        // Initialize the system
        console.log("AxeLux Premium Store System Ready!");
        console.log("Ownership Login: username='ownership', password='brandalz70'");
        console.log("WhatsApp Contact: 0881010065137");
        console.log("Currency: IDR (Rupiah)");
    </script>

    <style>
        /* ===================== ENHANCED STYLES ===================== */
        /* Notification Bell */
        .notification-bell {
            position: relative;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            background: var(--bg-secondary);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .notification-bell:hover {
            background: var(--primary);
            color: white;
        }
        
        .notification-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Notification Panel */
        .notification-panel {
            position: fixed;
            top: 80px;
            right: 20px;
            width: 400px;
            max-height: 500px;
            background: var(--bg-card);
            border-radius: 12px;
            box-shadow: var(--shadow);
            z-index: 1000;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }
        
        .notification-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .notification-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .notification-item {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .notification-item:hover {
            background: var(--bg-secondary);
        }
        
        .notification-item.unread {
            background: rgba(67, 97, 238, 0.1);
        }
        
        .notification-item.read {
            opacity: 0.7;
        }
        
        .notification-icon {
            float: left;
            margin-right: 15px;
            font-size: 20px;
        }
        
        .notification-icon.info { color: #2196F3; }
        .notification-icon.success { color: #4CAF50; }
        .notification-icon.warning { color: #FF9800; }
        .notification-icon.error { color: #F44336; }
        
        .notification-content {
            overflow: hidden;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text-primary);
        }
        
        .notification-message {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }
        
        .notification-time {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        /* Admin Management Styles */
        .admin-management-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-top: 20px;
        }
        
        .create-admin-form {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .permissions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .permission-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-secondary);
        }
        
        /* Order Management Styles */
        .order-management-container {
            margin-top: 20px;
        }
        
        .order-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            background: var(--bg-secondary);
            padding: 5px;
            border-radius: 12px;
        }
        
        .order-tab {
            flex: 1;
            padding: 15px;
            border: none;
            background: none;
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .order-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .tab-badge {
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .order-list-container {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            max-height: 600px;
            overflow-y: auto;
        }
        
        .order-item {
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            background: var(--bg-secondary);
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .order-id {
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .order-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .order-status.pending { background: #FF9800; color: white; }
        .order-status.processing { background: #2196F3; color: white; }
        .order-status.completed { background: #4CAF50; color: white; }
        .order-status.cancelled { background: #F44336; color: white; }
        
        .order-body {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .order-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-action-small {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .btn-action-small.success {
            background: #4CAF50;
            color: white;
        }
        
        .btn-action-small.danger {
            background: #F44336;
            color: white;
        }
        
        /* Recent Orders */
        .recent-orders {
            margin-top: 30px;
            background: var(--bg-card);
            border-radius: 16px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .recent-order-item {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 15px;
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        /* Chat Support Container */
        .chat-support-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .admin-chat-only {
            display: none;
        }
        
        body.admin .admin-chat-only {
            display: block;
        }
        
        .contact-info {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            background: var(--bg-secondary);
        }
        
        .contact-icon {
            font-size: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .contact-icon.whatsapp { background: #25d366; color: white; }
        .contact-icon.email { background: #ea4335; color: white; }
        .contact-icon.hours { background: #ff9800; color: white; }
        
        .btn-contact {
            display: inline-block;
            padding: 8px 15px;
            background: var(--primary);
            color: white;
            border-radius: 8px;
            text-decoration: none;
            margin-top: 10px;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .btn-contact:hover {
            opacity: 0.9;
        }
        
        /* Analytics Grid */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .analytics-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border-color);
        }
        
        /* Activity Logs */
        .logs-container {
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            max-height: 400px;
            overflow-y: auto;
        }
        
        .log-item {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .log-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .log-user {
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .log-time {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .log-action {
            font-weight: 500;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        /* Product Stock Styles */
        .product-stock {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }
        
        .product-stock.in-stock { background: #4CAF50; }
        .product-stock.low-stock { background: #FF9800; }
        .product-stock.out-of-stock { background: #F44336; }
        
        /* Register Link */
        .register-link {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        
        .register-link a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }
        
        .register-link a:hover {
            text-decoration: underline;
        }
        
        /* Status Badges */
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-badge.active {
            background: #4CAF50;
            color: white;
        }
        
        .status-badge.inactive {
            background: #9E9E9E;
            color: white;
        }
        
        /* Notification Toast */
        .notification-toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: var(--bg-card);
            border-radius: 8px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--primary);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-width: 300px;
            max-width: 400px;
            animation: slideIn 0.3s ease;
        }
        
        .notification-toast.notification-success {
            border-left-color: #4CAF50;
        }
        
        .notification-toast.notification-error {
            border-left-color: #F44336;
        }
        
        .notification-toast.notification-warning {
            border-left-color: #FF9800;
        }
        
        .notification-toast.notification-info {
            border-left-color: #2196F3;
        }
        
        .notification-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notification-toast button {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 20px;
            cursor: pointer;
            margin-left: 15px;
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .admin-management-container,
            .chat-support-container {
                grid-template-columns: 1fr;
            }
            
            .order-body {
                grid-template-columns: 1fr;
            }
            
            .recent-order-item {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .header-right {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .notification-panel {
                width: 90vw;
                right: 5vw;
            }
            
            .nav-list {
                overflow-x: auto;
                flex-wrap: nowrap;
            }
            
            .nav-item {
                flex: 0 0 auto;
            }
        }
        
        @media (max-width: 480px) {
            .notification-toast {
                min-width: auto;
                max-width: 90vw;
            }
            
            .order-tabs {
                flex-direction: column;
            }
        }
    </style>
</body>
</html>
