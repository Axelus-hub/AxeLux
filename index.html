<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AxeLux | Premium Store</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>
    <!-- Login Page (Awal) -->
    <div id="loginPage" class="page">
        <div class="login-container">
            <div class="logo">AxeLux</div>
            <div class="theme-toggle">
                <button onclick="setTheme('green')" class="theme-btn green">Hijau</button>
                <button onclick="setTheme('red')" class="theme-btn red">Merah</button>
            </div>
            <div class="lang-select">
                <select id="langSelect" onchange="changeLanguage()">
                    <option value="id">Indonesia</option>
                    <option value="en">English</option>
                    <option value="jp">日本語</option>
                    <option value="ar">العربية</option>
                </select>
            </div>
            <div class="login-form">
                <h2 id="loginTitle">Masuk ke Akun</h2>
                <input type="text" id="loginEmail" placeholder="Email atau Username">
                <input type="password" id="loginPassword" placeholder="Password">
                <button onclick="login()" class="btn-login">Login</button>
                <button onclick="signInAsGuest()" class="btn-guest">Masuk sebagai Guest</button>
                <p id="loginMsg" class="message"></p>
                <p class="small">Akun Owner: User: Axm, Pass: brandalz70</p>
            </div>
        </div>
    </div>

    <!-- Main App (Setelah Login) -->
    <div id="mainApp" class="page hidden">
        <!-- Header -->
        <header>
            <div class="header-left">
                <h1 class="app-title">AxeLux</h1>
                <div class="lang-select small">
                    <select id="langSelectMain" onchange="changeLanguage()">
                        <option value="id">ID</option>
                        <option value="en">EN</option>
                        <option value="jp">JP</option>
                        <option value="ar">AR</option>
                    </select>
                </div>
                <div class="theme-btns">
                    <button onclick="setTheme('green')" class="theme-btn mini green"><i class="fas fa-leaf"></i></button>
                    <button onclick="setTheme('red')" class="theme-btn mini red"><i class="fas fa-fire"></i></button>
                </div>
            </div>
            <div class="header-right">
                <span id="welcomeUser">Selamat datang, </span>
                <button onclick="logout()" class="btn-logout">Logout</button>
            </div>
        </header>

        <!-- Navigation -->
        <nav>
            <ul>
                <li><a href="#" onclick="showSection('home')" class="nav-link active"><i class="fas fa-home"></i> <span id="navHome">Home</span></a></li>
                <li><a href="#" onclick="showSection('product')" class="nav-link"><i class="fas fa-shopping-bag"></i> <span id="navProduct">Product</span></a></li>
                <li><a href="#" onclick="showSection('cs')" class="nav-link"><i class="fas fa-headset"></i> <span id="navCS">Customer Service</span></a></li>
                <li><a href="#" onclick="showSection('database')" class="nav-link admin-only"><i class="fas fa-database"></i> <span id="navDB">Database</span></a></li>
                <li><a href="#" onclick="showSection('testimoni')" class="nav-link"><i class="fas fa-star"></i> <span id="navTesti">Testimoni</span></a></li>
                <li><a href="#" onclick="showSection('userSettings')" class="nav-link"><i class="fas fa-cog"></i> <span id="navSettings">User Settings</span></a></li>
            </ul>
        </nav>

        <!-- Content Sections -->
        <main>
            <!-- Home -->
            <section id="homeSection" class="content-section">
                <h2 id="homeTitle">Dashboard AxeLux</h2>
                <p id="homeDesc">Web premium penjualan produk eksklusif. Hanya admin yang bisa mengelola produk dan data.</p>
                <div class="stats">
                    <div class="stat-card">
                        <h3 id="statVisitors">Total Pengunjung</h3>
                        <p id="visitorCount">0</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="statProducts">Total Produk</h3>
                        <p id="productCount">0</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="statTesti">Total Testimoni</h3>
                        <p id="testiCount">0</p>
                    </div>
                </div>
            </section>

            <!-- Product -->
            <section id="productSection" class="content-section hidden">
                <h2 id="productTitle">Produk Eksklusif</h2>
                <div class="product-list" id="productList">
                    <!-- Produk di-load via JS -->
                </div>
                <div class="admin-actions admin-only">
                    <h3>Admin Panel - Kelola Produk</h3>
                    <input type="text" id="productName" placeholder="Nama Produk">
                    <input type="number" id="productPrice" placeholder="Harga">
                    <textarea id="productDesc" placeholder="Deskripsi"></textarea>
                    <button onclick="addProduct()" class="btn-admin">Tambah Produk</button>
                    <button onclick="deleteAllProducts()" class="btn-admin delete">Hapus Semua Produk</button>
                </div>
            </section>

            <!-- Customer Service -->
            <section id="csSection" class="content-section hidden">
                <h2 id="csTitle">Customer Service (AI Auto‑Reply)</h2>
                <div class="chat-container">
                    <div class="chat-box" id="chatBox">
                        <div class="message ai">Halo! Saya AI Assistant AxeLux. Silakan tanyakan tentang produk atau layanan kami.</div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="userQuestion" placeholder="Tulis pertanyaan Anda...">
                        <button onclick="sendQuestion()"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
                <p class="small">*AI ini akan menjawab secara otomatis berdasarkan kata kunci.</p>
            </section>

            <!-- Database (Admin Only) -->
            <section id="databaseSection" class="content-section hidden">
                <h2 id="dbTitle">Database Admin</h2>
                <div class="db-section">
                    <h3 id="dbUsers">Daftar Pengguna yang Login</h3>
                    <ul id="userList"></ul>
                </div>
                <div class="db-section">
                    <h3 id="dbAllTesti">Semua Testimoni (Raw Data)</h3>
                    <pre id="rawTesti"></pre>
                </div>
                <div class="db-section admin-only">
                    <h3>Tools Admin</h3>
                    <button onclick="generateFakeTestimonials()" class="btn-admin">Buat Testimoni Palsu (Random Names)</button>
                    <button onclick="deleteAllTestimonials()" class="btn-admin delete">Hapus Semua Testimoni</button>
                    <button onclick="exportData()" class="btn-admin">Export Semua Data</button>
                </div>
            </section>

            <!-- Testimoni -->
            <section id="testimoniSection" class="content-section hidden">
                <h2 id="testiTitle">Testimoni Pelanggan</h2>
                <div class="testimoni-list" id="testimoniList">
                    <!-- Testimoni di-load via JS -->
                </div>
                <div class="add-testimoni" id="addTestimoniSection">
                    <h3>Tambah Testimoni</h3>
                    <textarea id="newTestimoni" placeholder="Tulis pengalaman Anda..."></textarea>
                    <button onclick="addTestimoni()" id="btnAddTestimoni">Kirim Testimoni</button>
                </div>
                <div class="admin-actions admin-only">
                    <h3>Admin Tools</h3>
                    <button onclick="generateFakeTestimonials()" class="btn-admin">Buat Testimoni Palsu (10)</button>
                </div>
            </section>

            <!-- User Settings -->
            <section id="userSettingsSection" class="content-section hidden">
                <h2 id="settingsTitle">Pengaturan Pengguna</h2>
                <div class="settings-form">
                    <label id="labelEmail">Email:</label>
                    <input type="email" id="userEmail" disabled>
                    <label id="labelTheme">Tema:</label>
                    <select id="themeSelect" onchange="setTheme(this.value)">
                        <option value="green">Hijau</option>
                        <option value="red">Merah</option>
                    </select>
                    <label id="labelLanguage">Bahasa:</label>
                    <select id="languageSelect" onchange="changeLanguage()">
                        <option value="id">Indonesia</option>
                        <option value="en">English</option>
                        <option value="jp">日本語</option>
                        <option value="ar">العربية</option>
                    </select>
                    <button onclick="updateProfile()" class="btn-save" id="btnSave">Simpan</button>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer>
            <p id="footerText">© 2023 AxeLux Premium Store. Semua fitur aman dan terlindungi.</p>
            <p class="visitor-counter"><span id="liveVisitorCount">0</span> pengunjung online</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
