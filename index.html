<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AxeLux | Premium Luxury Store</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body class="theme-blue">
    <!-- Login Page -->
    <div id="loginPage" class="page login-page">
        <div class="login-wrapper">
            <div class="login-card">
                <div class="brand-header">
                    <div class="logo-icon"><i class="fas fa-gem"></i></div>
                    <h1 class="logo-text">AxeLux</h1>
                    <p class="tagline">Premium Luxury Store</p>
                </div>

                <div class="theme-selector">
                    <p class="section-label">Pilih Tema:</p>
                    <div class="theme-buttons">
                        <button onclick="setTheme('blue')" class="theme-option blue active" title="Blue">
                            <i class="fas fa-palette"></i> Blue
                        </button>
                        <button onclick="setTheme('red')" class="theme-option red" title="Red">
                            <i class="fas fa-fire"></i> Red
                        </button>
                        <button onclick="setTheme('green')" class="theme-option green" title="Green">
                            <i class="fas fa-leaf"></i> Green
                        </button>
                        <button onclick="setTheme('yellow')" class="theme-option yellow" title="Yellow">
                            <i class="fas fa-sun"></i> Yellow
                        </button>
                        <button onclick="setTheme('night')" class="theme-option night" title="Night">
                            <i class="fas fa-moon"></i> Night
                        </button>
                        <button onclick="setTheme('light')" class="theme-option light" title="Light">
                            <i class="fas fa-sun"></i> Light
                        </button>
                    </div>
                </div>

                <div class="language-selector">
                    <select id="langSelect" class="lang-dropdown" onchange="changeLanguage()">
                        <option value="id">ðŸ‡®ðŸ‡© Indonesia</option>
                        <option value="en">ðŸ‡ºðŸ‡¸ English</option>
                        <option value="jp">ðŸ‡¯ðŸ‡µ æ—¥æœ¬èªž</option>
                        <option value="es">ðŸ‡ªðŸ‡¸ EspaÃ±ol</option>
                    </select>
                </div>

                <div class="login-form">
                    <h2 id="loginTitle" class="form-title">Masuk ke Dashboard</h2>
                    
                    <div class="input-group">
                        <i class="fas fa-user input-icon"></i>
                        <input type="text" id="loginEmail" placeholder="Email atau Username" class="form-input">
                    </div>
                    
                    <div class="input-group">
                        <i class="fas fa-lock input-icon"></i>
                        <input type="password" id="loginPassword" placeholder="Password" class="form-input">
                    </div>

                    <button onclick="login()" class="btn btn-primary btn-login">
                        <i class="fas fa-sign-in-alt"></i> <span id="btnLoginText">Login</span>
                    </button>
                    
                    <button onclick="signInAsGuest()" class="btn btn-secondary btn-guest">
                        <i class="fas fa-user-circle"></i> <span id="btnGuestText">Masuk sebagai Guest</span>
                    </button>

                    <p id="loginMsg" class="message"></p>
                    
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="page main-app hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo-container">
                    <div class="logo-icon-small"><i class="fas fa-gem"></i></div>
                    <h1 class="app-title">AxeLux</h1>
                </div>
                
                <div class="header-controls">
                    <div class="theme-selector-small">
                        <select id="themeSelect" class="theme-dropdown" onchange="setTheme(this.value)">
                            <option value="blue">Blue Theme</option>
                            <option value="red">Red Theme</option>
                            <option value="green">Green Theme</option>
                            <option value="yellow">Yellow Theme</option>
                            <option value="night">Night Theme</option>
                            <option value="light">Light Theme</option>
                        </select>
                    </div>
                    
                    <div class="language-selector-small">
                        <select id="langSelectMain" class="lang-dropdown" onchange="changeLanguage()">
                            <option value="id">ðŸ‡®ðŸ‡© ID</option>
                            <option value="en">ðŸ‡ºðŸ‡¸ EN</option>
                            <option value="jp">ðŸ‡¯ðŸ‡µ JP</option>
                            <option value="es">ðŸ‡ªðŸ‡¸ ES</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="user-info">
                    <i class="fas fa-user-circle user-avatar"></i>
                    <div class="user-details">
                        <span id="welcomeUser" class="username">Selamat datang, Guest</span>
                        <span class="user-role" id="userRole">Pengunjung</span>
                    </div>
                </div>
                <button onclick="logout()" class="btn btn-logout">
                    <i class="fas fa-sign-out-alt"></i> <span id="btnLogoutText">Logout</span>
                </button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="#" onclick="showSection('home')" class="nav-link active">
                        <i class="fas fa-home nav-icon"></i>
                        <span class="nav-text" id="navHome">Home</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('product')" class="nav-link">
                        <i class="fas fa-shopping-bag nav-icon"></i>
                        <span class="nav-text" id="navProduct">Products</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('cs')" class="nav-link">
                        <i class="fas fa-headset nav-icon"></i>
                        <span class="nav-text" id="navCS">Support</span>
                    </a>
                </li>
                <li class="nav-item admin-only">
                    <a href="#" onclick="showSection('database')" class="nav-link">
                        <i class="fas fa-database nav-icon"></i>
                        <span class="nav-text" id="navDB">Database</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('testimoni')" class="nav-link">
                        <i class="fas fa-star nav-icon"></i>
                        <span class="nav-text" id="navTesti">Testimonials</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" onclick="showSection('userSettings')" class="nav-link">
                        <i class="fas fa-cog nav-icon"></i>
                        <span class="nav-text" id="navSettings">Settings</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="content-area">
            <!-- Home -->
            <section id="homeSection" class="content-section active-section">
                <div class="section-header">
                    <h2 id="homeTitle" class="section-title">Dashboard Overview</h2>
                    <p id="homeDesc" class="section-subtitle">Monitor your luxury store performance and analytics</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="statVisitors">Total Visitors</h3>
                            <p class="stat-number" id="visitorCount">0</p>
                            <p class="stat-trend"><i class="fas fa-arrow-up"></i> 12% today</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="statProducts">Products</h3>
                            <p class="stat-number" id="productCount">0</p>
                            <p class="stat-trend"><i class="fas fa-plus"></i> Add new</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-comment-dots"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="statTesti">Testimonials</h3>
                            <p class="stat-number" id="testiCount">0</p>
                            <p class="stat-trend"><i class="fas fa-star"></i> 4.8 rating</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="statOnline">Online Now</h3>
                            <p class="stat-number" id="liveVisitorCount">0</p>
                            <p class="stat-trend"><i class="fas fa-circle online-dot"></i> Live</p>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <h3 class="actions-title">Quick Actions</h3>
                    <div class="action-buttons">
                        <button onclick="showSection('product')" class="btn-action">
                            <i class="fas fa-plus-circle"></i> Add Product
                        </button>
                        <button onclick="showSection('testimoni')" class="btn-action">
                            <i class="fas fa-pen"></i> Write Testimonial
                        </button>
                        <button onclick="showSection('cs')" class="btn-action">
                            <i class="fas fa-question-circle"></i> Get Support
                        </button>
                    </div>
                </div>
            </section>

            <!-- Products -->
            <section id="productSection" class="content-section">
                <div class="section-header">
                    <h2 id="productTitle" class="section-title">Luxury Products</h2>
                    <p id="productDesc" class="section-subtitle">Exclusive collection of premium items</p>
                </div>
                
                <div class="products-grid" id="productList">
                    <!-- Products loaded via JS -->
                </div>
                
                <div class="admin-panel admin-only">
                    <h3 class="panel-title">Admin Product Management</h3>
                    <div class="admin-form">
                        <div class="form-row">
                            <input type="text" id="productName" placeholder="Product Name" class="form-input admin-input">
                            <input type="number" id="productPrice" placeholder="Price ($)" class="form-input admin-input">
                        </div>
                        <textarea id="productDesc" placeholder="Product Description" class="form-textarea"></textarea>
                        <div class="form-actions">
                            <button onclick="addProduct()" class="btn btn-admin btn-success">
                                <i class="fas fa-plus"></i> Add Product
                            </button>
                            <button onclick="deleteAllProducts()" class="btn btn-admin btn-danger">
                                <i class="fas fa-trash"></i> Delete All
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Customer Service -->
            <section id="csSection" class="content-section">
                <div class="section-header">
                    <h2 id="csTitle" class="section-title">24/7 AI Customer Support</h2>
                    <p id="csDesc" class="section-subtitle">Instant AI-powered responses to your queries</p>
                </div>
                
                <div class="chat-container">
                    <div class="chat-header">
                        <i class="fas fa-robot chat-ai-icon"></i>
                        <div>
                            <h4>AxeLux AI Assistant</h4>
                            <p class="chat-status">Online â€¢ Auto-Reply Enabled</p>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chatBox">
                        <div class="message ai-message">
                            <div class="message-content">
                                <strong>AxeLux AI:</strong> Hello! I'm your AI assistant. How can I help you with our luxury products today?
                            </div>
                            <div class="message-time">Just now</div>
                        </div>
                    </div>
                    
                    <div class="chat-input-area">
                        <input type="text" id="userQuestion" placeholder="Type your question here..." class="chat-input">
                        <button onclick="sendQuestion()" class="btn btn-primary btn-send">
                            <i class="fas fa-paper-plane"></i> Send
                        </button>
                    </div>
                </div>
                
                <div class="faq-section">
                    <h4>Frequently Asked Questions:</h4>
                    <div class="faq-grid">
                        <button onclick="insertFAQ('What is your return policy?')" class="faq-item">Return Policy</button>
                        <button onclick="insertFAQ('Do you ship internationally?')" class="faq-item">International Shipping</button>
                        <button onclick="insertFAQ('How can I track my order?')" class="faq-item">Order Tracking</button>
                        <button onclick="insertFAQ('What payment methods do you accept?')" class="faq-item">Payment Methods</button>
                    </div>
                </div>
            </section>

            <!-- Database (Admin Only) -->
            <section id="databaseSection" class="content-section admin-only">
                <div class="section-header">
                    <h2 id="dbTitle" class="section-title">Admin Database</h2>
                    <p id="dbDesc" class="section-subtitle">Full control over all data and users</p>
                </div>
                
                <div class="db-tabs">
                    <button class="db-tab active" onclick="showDbTab('users')">Users</button>
                    <button class="db-tab" onclick="showDbTab('testimonials')">Testimonials</button>
                    <button class="db-tab" onclick="showDbTab('analytics')">Analytics</button>
                </div>
                
                <div class="db-content">
                    <div id="dbUsersTab" class="db-tab-content active">
                        <h4 id="dbUsers">Registered Users</h4>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Email</th>
                                        <th>Last Login</th>
                                        <th>Role</th>
                                    </tr>
                                </thead>
                                <tbody id="userList">
                                    <!-- User data loaded via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="dbTestimonialsTab" class="db-tab-content">
                        <h4 id="dbAllTesti">All Testimonials</h4>
                        <pre class="raw-data" id="rawTesti">Loading...</pre>
                    </div>
                    
                    <div id="dbAnalyticsTab" class="db-tab-content">
                        <h4>Data Management</h4>
                        <div class="admin-tools">
                            <button onclick="generateFakeTestimonials()" class="btn btn-admin">
                                <i class="fas fa-magic"></i> Generate Fake Testimonials
                            </button>
                            <button onclick="deleteAllTestimonials()" class="btn btn-admin btn-danger">
                                <i class="fas fa-broom"></i> Clear All Testimonials
                            </button>
                            <button onclick="exportData()" class="btn btn-admin btn-success">
                                <i class="fas fa-download"></i> Export All Data
                            </button>
                            <button onclick="resetVisitorCount()" class="btn btn-admin">
                                <i class="fas fa-redo"></i> Reset Visitor Counter
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Testimonials -->
            <section id="testimoniSection" class="content-section">
                <div class="section-header">
                    <h2 id="testiTitle" class="section-title">Customer Testimonials</h2>
                    <p id="testiDesc" class="section-subtitle">See what our customers say about us</p>
                </div>
                
                <div class="testimonials-grid" id="testimoniList">
                    <!-- Testimonials loaded via JS -->
                </div>
                
                <div class="add-testimonial-section" id="addTestimoniSection">
                    <h3>Share Your Experience</h3>
                    <textarea id="newTestimoni" placeholder="Write your testimonial here..." class="testimonial-textarea"></textarea>
                    <button onclick="addTestimoni()" class="btn btn-primary btn-submit-testimonial">
                        <i class="fas fa-paper-plane"></i> Submit Testimonial
                    </button>
                    <p class="form-note">You must be logged in to submit a testimonial.</p>
                </div>
                
                <div class="admin-panel admin-only">
                    <h3 class="panel-title">Testimonial Management</h3>
                    <div class="admin-actions">
                        <button onclick="generateFakeTestimonials()" class="btn btn-admin">
                            <i class="fas fa-plus-circle"></i> Add 10 Random Testimonials
                        </button>
                        <p class="admin-note">Random names from Indonesia and other countries will be generated.</p>
                    </div>
                </div>
            </section>

            <!-- User Settings -->
            <section id="userSettingsSection" class="content-section">
                <div class="section-header">
                    <h2 id="settingsTitle" class="section-title">Account Settings</h2>
                    <p id="settingsDesc" class="section-subtitle">Customize your experience</p>
                </div>
                
                <div class="settings-grid">
                    <div class="settings-card">
                        <h4><i class="fas fa-user-cog"></i> Profile</h4>
                        <div class="settings-form">
                            <div class="form-group">
                                <label id="labelEmail">Email Address</label>
                                <input type="email" id="userEmail" class="form-input" disabled>
                            </div>
                            <div class="form-group">
                                <label id="labelName">Display Name</label>
                                <input type="text" id="userName" class="form-input" placeholder="Enter your name">
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h4><i class="fas fa-palette"></i> Appearance</h4>
                        <div class="settings-form">
                            <div class="form-group">
                                <label id="labelTheme">Theme</label>
                                <select id="themeSelectSettings" class="form-select" onchange="setTheme(this.value)">
                                    <option value="blue">Blue Theme</option>
                                    <option value="red">Red Theme</option>
                                    <option value="green">Green Theme</option>
                                    <option value="yellow">Yellow Theme</option>
                                    <option value="night">Night Theme</option>
                                    <option value="light">Light Theme</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label id="labelLanguage">Language</label>
                                <select id="languageSelect" class="form-select" onchange="changeLanguage()">
                                    <option value="id">Bahasa Indonesia</option>
                                    <option value="en">English</option>
                                    <option value="jp">æ—¥æœ¬èªž</option>
                                    <option value="es">EspaÃ±ol</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h4><i class="fas fa-shield-alt"></i> Account</h4>
                        <div class="settings-actions">
                            <button onclick="updateProfile()" class="btn btn-primary">
                                <i class="fas fa-save"></i> <span id="btnSave">Save Changes</span>
                            </button>
                            <button onclick="deleteAccount()" class="btn btn-danger">
                                <i class="fas fa-trash"></i> Delete Account
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="footer-logo">
                        <i class="fas fa-gem footer-logo-icon"></i>
                        <span class="footer-logo-text">AxeLux</span>
                    </div>
                    <p id="footerText" class="footer-description">Premium Luxury Store Â© 2023. All rights reserved.</p>
                </div>
                <div class="footer-right">
                    <div class="footer-stats">
                        <div class="footer-stat">
                            <i class="fas fa-users"></i>
                            <span><span id="footerVisitorCount">0</span> visitors</span>
                        </div>
                        <div class="footer-stat">
                            <i class="fas fa-box"></i>
                            <span><span id="footerProductCount">0</span> products</span>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // ===================== SIMPLIFIED LOGIN FIX =====================
        // No Firebase needed for demo - pure JavaScript login
        
        let currentUser = null;
        let isAdmin = false;
        let currentTheme = 'blue';
        let currentLanguage = 'id';
        
        document.addEventListener('DOMContentLoaded', function() {
            // Set default theme
            setTheme('blue');
            
            // Check if already logged in
            const savedUser = localStorage.getItem('axelux_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                isAdmin = currentUser.isAdmin || false;
                showMainApp();
                updateUIForUser();
            }
        });
        
        // ===== LOGIN FUNCTIONS =====
        function login() {
            const emailInput = document.getElementById('loginEmail');
            const passwordInput = document.getElementById('loginPassword');
            const messageEl = document.getElementById('loginMsg');
            
            const email = emailInput.value.trim();
            const password = passwordInput.value;
            
            // Clear message
            messageEl.textContent = '';
            
            // Special owner login
            if (email === "Axm" && password === "brandalz70") {
                currentUser = {
                    email: "axm@axelux.com",
                    displayName: "Axm (Owner)",
                    isAdmin: true,
                    uid: "owner-001"
                };
                isAdmin = true;
                
                // Save to localStorage
                localStorage.setItem('axelux_user', JSON.stringify(currentUser));
                
                // Show main app
                showMainApp();
                updateUIForUser();
                showNotification("Welcome back, Owner!", "success");
                return;
            }
            
            // Guest login simulation
            if (email === "" || password === "") {
                messageEl.textContent = "Please enter credentials or use Guest login";
                messageEl.style.color = "#e74c3c";
                return;
            }
            
            // Regular user simulation (any email/password works for demo)
            currentUser = {
                email: email,
                displayName: email.split('@')[0] || "User",
                isAdmin: false,
                uid: "user-" + Date.now()
            };
            isAdmin = false;
            
            // Save to localStorage
            localStorage.setItem('axelux_user', JSON.stringify(currentUser));
            
            // Show main app
            showMainApp();
            updateUIForUser();
            showNotification("Login successful!", "success");
        }
        
        function signInAsGuest() {
            currentUser = {
                email: "guest@example.com",
                displayName: "Guest",
                isAdmin: false,
                isAnonymous: true,
                uid: "guest-" + Date.now()
            };
            isAdmin = false;
            
            // Save to localStorage
            localStorage.setItem('axelux_user', JSON.stringify(currentUser));
            
            // Show main app
            showMainApp();
            updateUIForUser();
            showNotification("Welcome as Guest!", "info");
        }
        
        function logout() {
            localStorage.removeItem('axelux_user');
            currentUser = null;
            isAdmin = false;
            showLoginPage();
            showNotification("Logged out successfully", "info");
        }
        
        // ===== UI FUNCTIONS =====
        function showLoginPage() {
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('mainApp').classList.add('hidden');
            document.body.classList.remove('admin');
        }
        
        function showMainApp() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            
            if (isAdmin) {
                document.body.classList.add('admin');
            }
            
            // Initialize demo data
            initializeDemoData();
        }
        
        function updateUIForUser() {
            // Update welcome message
            const welcomeElement = document.getElementById('welcomeUser');
            const roleElement = document.getElementById('userRole');
            
            if (currentUser) {
                if (isAdmin) {
                    welcomeElement.textContent = "Axm (Owner)";
                    roleElement.textContent = "Administrator";
                } else if (currentUser.isAnonymous) {
                    welcomeElement.textContent = "Guest User";
                    roleElement.textContent = "Visitor";
                } else {
                    welcomeElement.textContent = currentUser.displayName || "User";
                    roleElement.textContent = "Member";
                }
            }
            
            // Show/hide testimonial submission
            const testimonialSection = document.getElementById('addTestimoniSection');
            if (currentUser && !currentUser.isAnonymous) {
                testimonialSection.style.display = 'block';
            } else {
                testimonialSection.style.display = 'none';
            }
            
            // Load demo data
            loadDemoProducts();
            loadDemoTestimonials();
            updateDemoStats();
        }
        
        function setTheme(theme) {
            currentTheme = theme;
            document.body.className = `theme-${theme}`;
            
            // Update theme selectors
            const themeSelect = document.getElementById('themeSelect');
            const themeSelectSettings = document.getElementById('themeSelectSettings');
            
            if (themeSelect) themeSelect.value = theme;
            if (themeSelectSettings) themeSelectSettings.value = theme;
            
            // Update active theme buttons
            document.querySelectorAll('.theme-option').forEach(btn => {
                btn.classList.remove('active');
                if (btn.classList.contains(theme)) {
                    btn.classList.add('active');
                }
            });
            
            localStorage.setItem('axelux_theme', theme);
        }
        
        function changeLanguage() {
            const langSelect = document.getElementById('langSelect') || 
                             document.getElementById('langSelectMain') || 
                             document.getElementById('languageSelect');
            
            if (langSelect) {
                currentLanguage = langSelect.value;
                
                // Update all language selectors
                document.querySelectorAll('.lang-dropdown, #languageSelect').forEach(select => {
                    select.value = currentLanguage;
                });
                
                localStorage.setItem('axelux_language', currentLanguage);
                
                // Show language change notification
                showNotification(`Language changed to ${currentLanguage}`, 'info');
            }
        }
        
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active-section');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionId + 'Section');
            if (targetSection) {
                targetSection.classList.add('active-section');
            }
            
            // Update navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Find and activate the corresponding nav link
            const activeLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            // Special handling for database section (admin only)
            if (sectionId === 'database' && !isAdmin) {
                showSection('home');
                showNotification("Admin access required", 'error');
            }
        }
        
        // ===== DEMO DATA FUNCTIONS =====
        function initializeDemoData() {
            // Set demo stats
            document.getElementById('visitorCount').textContent = '1,247';
            document.getElementById('footerVisitorCount').textContent = '1,247';
            document.getElementById('productCount').textContent = '12';
            document.getElementById('footerProductCount').textContent = '12';
            document.getElementById('testiCount').textContent = '8';
            document.getElementById('liveVisitorCount').textContent = '24';
            
            // Set user email in settings
            if (currentUser) {
                document.getElementById('userEmail').value = currentUser.email || '';
                document.getElementById('userName').value = currentUser.displayName || '';
            }
        }
        
        function loadDemoProducts() {
            const products = [
                { name: "Diamond Luxury Watch", price: 12500, desc: "Swiss made, 24K gold, diamond bezel" },
                { name: "Premium Leather Bag", price: 3200, desc: "Italian leather, handcrafted, limited edition" },
                { name: "Gold Necklace Set", price: 8500, desc: "18K gold with precious stones" },
                { name: "Luxury Perfume Collection", price: 1200, desc: "Exclusive fragrance, 100ml bottle" },
                { name: "Designer Sunglasses", price: 950, desc: "UV protection, polarized lenses" },
                { name: "Silk Scarf", price: 650, desc: "100% pure silk, handmade print" }
            ];
            
            const productList = document.getElementById('productList');
            productList.innerHTML = '';
            
            products.forEach(product => {
                productList.innerHTML += `
                    <div class="product-card">
                        <div class="product-image">
                            <i class="fas fa-gem"></i>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-price">$${product.price.toLocaleString()}</p>
                            <p class="product-desc">${product.desc}</p>
                        </div>
                    </div>
                `;
            });
        }
        
        function loadDemoTestimonials() {
            const testimonials = [
                { name: "Budi Santoso", country: "Indonesia", text: "Produk sangat premium! Kualitas luar biasa.", date: "2023-10-15" },
                { name: "Emma Wilson", country: "USA", text: "Excellent service and high quality products!", date: "2023-10-10" },
                { name: "Sari Dewi", country: "Indonesia", text: "Pengiriman cepat, barang sesuai deskripsi.", date: "2023-10-05" },
                { name: "Yuki Tanaka", country: "Japan", text: "å“è³ªãŒæœ€é«˜ã§ã™ã€‚ã¾ãŸè³¼å…¥ã—ã¾ã™ã€‚", date: "2023-09-28" }
            ];
            
            const testimonialList = document.getElementById('testimoniList');
            testimonialList.innerHTML = '';
            
            testimonials.forEach(testi => {
                const initials = testi.name.split(' ').map(n => n[0]).join('').toUpperCase();
                
                testimonialList.innerHTML += `
                    <div class="testimonial-card">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">${initials}</div>
                            <div class="testimonial-author">
                                <h4>${testi.name}</h4>
                                <span class="testimonial-country">${testi.country}</span>
                            </div>
                        </div>
                        <p class="testimonial-text">${testi.text}</p>
                        <div class="testimonial-date">${testi.date}</div>
                    </div>
                `;
            });
            
            // Update raw data in admin panel
            document.getElementById('rawTesti').textContent = JSON.stringify(testimonials, null, 2);
        }
        
        function updateDemoStats() {
            // Update user list in admin panel
            if (isAdmin) {
                const userList = document.getElementById('userList');
                userList.innerHTML = `
                    <tr>
                        <td>axm@axelux.com</td>
                        <td>${new Date().toLocaleString()}</td>
                        <td>Admin</td>
                    </tr>
                    <tr>
                        <td>guest@example.com</td>
                        <td>${new Date().toLocaleString()}</td>
                        <td>Guest</td>
                    </tr>
                `;
            }
        }
        
        // ===== PRODUCT MANAGEMENT =====
        function addProduct() {
            if (!isAdmin) {
                showNotification("Admin access required", 'error');
                return;
            }
            
            const name = document.getElementById('productName').value.trim();
            const price = document.getElementById('productPrice').value.trim();
            
            if (!name || !price) {
                showNotification("Please fill in product name and price", 'error');
                return;
            }
            
            showNotification("Product added successfully!", 'success');
            
            // Clear form
            document.getElementById('productName').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productDesc').value = '';
            
            // Reload products
            loadDemoProducts();
        }
        
        function deleteAllProducts() {
            if (!isAdmin || !confirm("Delete all products?")) return;
            
            showNotification("All products deleted", 'info');
            loadDemoProducts();
        }
        
        // ===== TESTIMONIAL MANAGEMENT =====
        function addTestimoni() {
            if (!currentUser || currentUser.isAnonymous) {
                showNotification("Please login to submit testimonial", 'error');
                return;
            }
            
            const text = document.getElementById('newTestimoni').value.trim();
            if (!text) {
                showNotification("Please write a testimonial", 'error');
                return;
            }
            
            showNotification("Testimonial submitted!", 'success');
            document.getElementById('newTestimoni').value = '';
        }
        
        function generateFakeTestimonials() {
            if (!isAdmin) return;
            
            showNotification("10 random testimonials generated", 'success');
            loadDemoTestimonials();
        }
        
        function deleteAllTestimonials() {
            if (!isAdmin || !confirm("Delete all testimonials?")) return;
            
            document.getElementById('testimoniList').innerHTML = '<p class="empty-state">No testimonials yet.</p>';
            showNotification("All testimonials deleted", 'info');
        }
        
        // ===== CUSTOMER SERVICE AI =====
        function sendQuestion() {
            const questionInput = document.getElementById('userQuestion');
            const question = questionInput.value.trim();
            
            if (!question) return;
            
            const chatBox = document.getElementById('chatBox');
            
            // Add user message
            chatBox.innerHTML += `
                <div class="message user-message">
                    <div class="message-content">
                        <strong>You:</strong> ${question}
                    </div>
                    <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                </div>
            `;
            
            // Generate AI response
            const response = generateAIResponse(question);
            
            // Add AI response after a short delay
            setTimeout(() => {
                chatBox.innerHTML += `
                    <div class="message ai-message">
                        <div class="message-content">
                            <strong>AxeLux AI:</strong> ${response}
                        </div>
                        <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>
                `;
                
                // Scroll to bottom
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 800);
            
            // Clear input
            questionInput.value = '';
        }
        
        function generateAIResponse(question) {
            const q = question.toLowerCase();
            
            if (q.includes('harga') || q.includes('price')) {
                return "Harga produk luxury kami mulai dari $500 hingga $10,000. Lihat halaman Products untuk detail.";
            } else if (q.includes('pengiriman') || q.includes('shipping')) {
                return "Pengiriman via DHL Express. 3-5 hari domestik, 7-14 hari internasional. Free shipping untuk order di atas $2,000.";
            } else if (q.includes('return') || q.includes('refund')) {
                return "Return diterima dalam 30 hari dengan kondisi barang baru. Hubungi customer service untuk authorization.";
            } else {
                return "Terima kasih atas pertanyaan Anda! Tim kami akan membalas segera. Untuk bantuan cepat, hubungi +1 (555) 123-4567.";
            }
        }
        
        function insertFAQ(question) {
            document.getElementById('userQuestion').value = question;
            document.getElementById('userQuestion').focus();
        }
        
        // ===== DATABASE FUNCTIONS =====
        function showDbTab(tabId) {
            // Update tab buttons
            document.querySelectorAll('.db-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelector(`.db-tab[onclick="showDbTab('${tabId}')"]`).classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.db-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            const tabContent = document.getElementById('db' + tabId.charAt(0).toUpperCase() + tabId.slice(1) + 'Tab');
            if (tabContent) tabContent.classList.add('active');
        }
        
        function exportData() {
            if (!isAdmin) return;
            
            showNotification("Data exported successfully!", 'success');
        }
        
        function resetVisitorCount() {
            if (!isAdmin || !confirm("Reset visitor counter?")) return;
            
            document.getElementById('visitorCount').textContent = '0';
            document.getElementById('footerVisitorCount').textContent = '0';
            showNotification("Visitor counter reset", 'info');
        }
        
        // ===== SETTINGS FUNCTIONS =====
        function updateProfile() {
            const displayName = document.getElementById('userName').value.trim();
            
            if (currentUser && displayName && !currentUser.isAnonymous) {
                currentUser.displayName = displayName;
                localStorage.setItem('axelux_user', JSON.stringify(currentUser));
                
                // Update UI
                document.getElementById('welcomeUser').textContent = displayName;
                showNotification("Profile updated", 'success');
            }
            
            // Save preferences
            localStorage.setItem('axelux_theme', currentTheme);
            localStorage.setItem('axelux_language', currentLanguage);
            
            showNotification("Preferences saved", 'success');
        }
        
        function deleteAccount() {
            if (!confirm("Delete your account?")) return;
            
            localStorage.removeItem('axelux_user');
            currentUser = null;
            isAdmin = false;
            showLoginPage();
            showNotification("Account deleted", 'info');
        }
        
        // ===== UTILITY FUNCTIONS =====
        function showNotification(message, type = 'info') {
            // Remove existing notification
            const existing = document.querySelector('.notification');
            if (existing) existing.remove();
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <span>${message}</span>
                <button onclick="this.parentElement.remove()">&times;</button>
            `;
            
            // Style the notification
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                background: ${type === 'success' ? '#4CAF50' : 
                             type === 'error' ? '#F44336' : 
                             type === 'info' ? '#2196F3' : '#FF9800'};
                color: white;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 9999;
                display: flex;
                align-items: center;
                justify-content: space-between;
                min-width: 300px;
                max-width: 400px;
                animation: slideIn 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }
        
        // Add CSS for notification animation
        if (!document.querySelector('#notification-styles')) {
            const style = document.createElement('style');
            style.id = 'notification-styles';
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                
                .notification button {
                    background: none;
                    border: none;
                    color: white;
                    font-size: 20px;
                    cursor: pointer;
                    margin-left: 15px;
                }
            `;
            document.head.appendChild(style);
        }
        
        console.log("AxeLux Web Application initialized successfully!");
    </script>
</body>
</html>
